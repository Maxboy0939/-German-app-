<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>German App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        /* ============================================
           CSS VARIABLES & THEME SYSTEM
           ============================================ */
        :root {
            --bg-primary: #000000;
            --bg-secondary: #1c1c1e;
            --bg-tertiary: #2c2c2e;
            --bg-glass: rgba(255, 255, 255, 0.06);
            --bg-glass-hover: rgba(255, 255, 255, 0.1);
            --bg-glass-active: rgba(255, 255, 255, 0.15);
            --bg-glass-border: rgba(255, 255, 255, 0.08);
            --bg-glass-highlight: rgba(255, 255, 255, 0.12);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.7);
            --text-tertiary: rgba(255, 255, 255, 0.4);
            --accent-blue: #0a84ff;
            --accent-green: #30d158;
            --accent-orange: #ff9f0a;
            --accent-red: #ff453a;
            --accent-purple: #bf5af2;
            --accent-teal: #64d2ff;
            --accent-pink: #ff375f;
            --accent-yellow: #ffd60a;
            --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.3);
            --shadow-glass-lg: 0 16px 48px rgba(0, 0, 0, 0.4);
            --border-radius-sm: 12px;
            --border-radius-md: 16px;
            --border-radius-lg: 22px;
            --border-radius-xl: 28px;
            --blur-amount: 40px;
            --blur-heavy: 80px;
            --transition-fast: 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-smooth: 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            --transition-spring: 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --font-fa: 'Vazirmatn', sans-serif;
            --font-en: 'Inter', sans-serif;
            --nav-height: 88px;
            --status-bar-height: env(safe-area-inset-top, 20px);
            --bottom-safe: env(safe-area-inset-bottom, 0px);
        }

        [data-theme="light"] {
            --bg-primary: #f2f2f7;
            --bg-secondary: #ffffff;
            --bg-tertiary: #e5e5ea;
            --bg-glass: rgba(255, 255, 255, 0.7);
            --bg-glass-hover: rgba(255, 255, 255, 0.85);
            --bg-glass-active: rgba(255, 255, 255, 0.95);
            --bg-glass-border: rgba(0, 0, 0, 0.06);
            --bg-glass-highlight: rgba(255, 255, 255, 0.9);
            --text-primary: #1c1c1e;
            --text-secondary: rgba(0, 0, 0, 0.55);
            --text-tertiary: rgba(0, 0, 0, 0.3);
            --accent-blue: #007aff;
            --accent-green: #28cd41;
            --accent-orange: #ff9500;
            --accent-red: #ff3b30;
            --accent-purple: #af52de;
            --accent-teal: #5ac8fa;
            --accent-pink: #ff2d55;
            --shadow-glass: 0 8px 32px rgba(0, 0, 0, 0.08);
            --shadow-glass-lg: 0 16px 48px rgba(0, 0, 0, 0.12);
        }

        /* ============================================
           RESET & BASE STYLES
           ============================================ */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-fa);
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            transition: background var(--transition-smooth), color var(--transition-smooth);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ============================================
           LIQUID GLASS COMPONENTS
           ============================================ */
        .glass-card {
            background: var(--bg-glass);
            backdrop-filter: blur(var(--blur-amount));
            -webkit-backdrop-filter: blur(var(--blur-amount));
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-glass);
            transition: all var(--transition-smooth);
            position: relative;
            overflow: hidden;
        }

        .glass-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, var(--bg-glass-highlight), transparent);
            opacity: 0.6;
        }

        .glass-card:hover {
            background: var(--bg-glass-hover);
            transform: translateY(-2px);
            box-shadow: var(--shadow-glass-lg);
        }

        .glass-card:active {
            transform: translateY(0);
            background: var(--bg-glass-active);
        }

        .glass-button {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--border-radius-md);
            color: var(--text-primary);
            padding: 14px 24px;
            font-family: var(--font-fa);
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--transition-fast);
            position: relative;
            overflow: hidden;
        }

        .glass-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);
            border-radius: var(--border-radius-md) var(--border-radius-md) 0 0;
        }

        .glass-button:hover {
            background: var(--bg-glass-hover);
            transform: scale(1.02);
        }

        .glass-button:active {
            transform: scale(0.98);
        }

        .glass-button.primary {
            background: var(--accent-blue);
            border-color: transparent;
            color: #fff;
        }

        .glass-button.success {
            background: var(--accent-green);
            border-color: transparent;
            color: #fff;
        }

        .glass-input {
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--border-radius-sm);
            color: var(--text-primary);
            padding: 14px 18px;
            font-family: var(--font-fa);
            font-size: 1rem;
            width: 100%;
            outline: none;
            transition: all var(--transition-fast);
        }

        .glass-input:focus {
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.2);
        }

        /* ============================================
           APP CONTAINER
           ============================================ */
        #app {
            max-width: 430px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
            padding-bottom: calc(var(--nav-height) + var(--bottom-safe) + 10px);
        }

        /* ============================================
           HEADER / STATUS BAR
           ============================================ */
        .app-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: var(--bg-glass);
            backdrop-filter: blur(var(--blur-heavy));
            -webkit-backdrop-filter: blur(var(--blur-heavy));
            border-bottom: 1px solid var(--bg-glass-border);
            padding: 16px 20px;
            padding-top: calc(var(--status-bar-height) + 12px);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-title {
            font-size: 1.3rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header-back {
            background: none;
            border: none;
            color: var(--accent-blue);
            font-size: 1.1rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            font-family: var(--font-fa);
            padding: 8px;
        }

        .header-action {
            background: none;
            border: none;
            color: var(--accent-blue);
            font-size: 1.3rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all var(--transition-fast);
        }

        .header-action:hover {
            background: var(--bg-glass);
        }

        /* ============================================
           BOTTOM NAVIGATION
           ============================================ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            max-width: 430px;
            height: var(--nav-height);
            background: var(--bg-glass);
            backdrop-filter: blur(var(--blur-heavy));
            -webkit-backdrop-filter: blur(var(--blur-heavy));
            border-top: 1px solid var(--bg-glass-border);
            display: flex;
            align-items: flex-start;
            justify-content: space-around;
            padding: 10px 8px;
            padding-bottom: calc(var(--bottom-safe) + 10px);
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            background: none;
            border: none;
            color: var(--text-tertiary);
            cursor: pointer;
            padding: 6px 12px;
            border-radius: var(--border-radius-sm);
            transition: all var(--transition-fast);
            font-family: var(--font-fa);
            min-width: 64px;
        }

        .nav-item.active {
            color: var(--accent-blue);
        }

        .nav-item .nav-icon {
            font-size: 1.5rem;
            line-height: 1;
        }

        .nav-item .nav-label {
            font-size: 0.65rem;
            font-weight: 500;
        }

        .nav-item.active .nav-icon {
            transform: scale(1.1);
        }

        /* ============================================
           PAGE CONTENT
           ============================================ */
        .page {
            display: none;
            padding: 20px;
            animation: fadeInUp 0.4s ease;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideUp {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes shimmer {
            0% { background-position: -200% center; }
            100% { background-position: 200% center; }
        }

        /* ============================================
           HOME PAGE
           ============================================ */
        .welcome-banner {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border-radius: var(--border-radius-xl);
            padding: 28px 24px;
            margin-bottom: 24px;
            position: relative;
            overflow: hidden;
        }

        .welcome-banner::after {
            content: 'üá©üá™';
            position: absolute;
            top: -20px;
            left: -10px;
            font-size: 120px;
            opacity: 0.1;
        }

        .welcome-banner h1 {
            font-size: 1.6rem;
            color: #fff;
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .welcome-banner p {
            color: rgba(255, 255, 255, 0.85);
            font-size: 0.9rem;
            position: relative;
            z-index: 1;
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .stat-card {
            text-align: center;
            padding: 18px 12px;
        }

        .stat-card .stat-icon {
            font-size: 1.8rem;
            margin-bottom: 8px;
        }

        .stat-card .stat-value {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
            font-family: var(--font-en);
        }

        .stat-card .stat-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        .section-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .level-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .level-card {
            padding: 20px 16px;
            cursor: pointer;
            text-align: center;
            position: relative;
        }

        .level-card .level-badge {
            font-size: 2rem;
            margin-bottom: 10px;
        }

        .level-card .level-name {
            font-size: 1.1rem;
            font-weight: 700;
            font-family: var(--font-en);
            margin-bottom: 4px;
        }

        .level-card .level-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        .level-card .level-progress {
            margin-top: 12px;
            height: 4px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            overflow: hidden;
        }

        .level-card .level-progress-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.6s ease;
        }

        .level-card[data-level="a1-1"] .level-progress-fill { background: var(--accent-green); }
        .level-card[data-level="a1-2"] .level-progress-fill { background: var(--accent-teal); }
        .level-card[data-level="a2-1"] .level-progress-fill { background: var(--accent-blue); }
        .level-card[data-level="a2-2"] .level-progress-fill { background: var(--accent-purple); }
        .level-card[data-level="b1-1"] .level-progress-fill { background: var(--accent-orange); }
        .level-card[data-level="b1-2"] .level-progress-fill { background: var(--accent-pink); }
        .level-card[data-level="b2-1"] .level-progress-fill { background: var(--accent-red); }
        .level-card[data-level="b2-2"] .level-progress-fill { background: var(--accent-yellow); }

        /* ============================================
           LESSONS LIST
           ============================================ */
        .lessons-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .lesson-item {
            padding: 18px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .lesson-number {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.1rem;
            font-family: var(--font-en);
            flex-shrink: 0;
        }

        .lesson-info {
            flex: 1;
        }

        .lesson-title {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .lesson-subtitle {
            font-size: 0.78rem;
            color: var(--text-secondary);
        }

        .lesson-status {
            font-size: 1.2rem;
        }

        /* ============================================
           LESSON DETAIL (4 SECTIONS)
           ============================================ */
        .lesson-sections {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 16px;
        }

        .section-card {
            padding: 24px 16px;
            text-align: center;
            cursor: pointer;
        }

        .section-card .section-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }

        .section-card .section-name {
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 4px;
        }

        .section-card .section-count {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* ============================================
           VOCABULARY SECTION
           ============================================ */
        .vocab-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .vocab-card {
            padding: 18px 20px;
        }

        .vocab-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .vocab-word {
            font-size: 1.2rem;
            font-weight: 700;
            font-family: var(--font-en);
            color: var(--accent-blue);
        }

        .vocab-article {
            font-size: 0.8rem;
            color: var(--accent-orange);
            font-weight: 600;
            font-family: var(--font-en);
        }

        .vocab-speak-btn {
            background: var(--accent-blue);
            border: none;
            color: #fff;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all var(--transition-fast);
            flex-shrink: 0;
        }

        .vocab-speak-btn:hover {
            transform: scale(1.1);
        }

        .vocab-speak-btn:active {
            transform: scale(0.95);
        }

        .vocab-speak-btn.playing {
            animation: pulse 0.6s infinite;
            background: var(--accent-green);
        }

        .vocab-translation {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .vocab-example {
            background: var(--bg-glass);
            border-radius: var(--border-radius-sm);
            padding: 12px 14px;
            margin-top: 8px;
            border-right: 3px solid var(--accent-blue);
        }

        .vocab-example .example-de {
            font-size: 0.88rem;
            font-family: var(--font-en);
            color: var(--text-primary);
            margin-bottom: 4px;
            font-style: italic;
        }

        .vocab-example .example-fa {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .vocab-plural {
            font-size: 0.78rem;
            color: var(--accent-purple);
            font-family: var(--font-en);
        }

        /* ============================================
           GRAMMAR SECTION
           ============================================ */
        .grammar-content {
            line-height: 1.9;
        }

        .grammar-block {
            margin-bottom: 20px;
            padding: 20px;
        }

        .grammar-block h3 {
            font-size: 1.1rem;
            margin-bottom: 12px;
            color: var(--accent-purple);
        }

        .grammar-block p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .grammar-table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0;
            font-size: 0.85rem;
        }

        .grammar-table th {
            background: var(--bg-glass);
            padding: 10px 12px;
            text-align: center;
            font-weight: 600;
            color: var(--accent-blue);
            font-family: var(--font-en);
        }

        .grammar-table td {
            padding: 10px 12px;
            text-align: center;
            border-bottom: 1px solid var(--bg-glass-border);
            font-family: var(--font-en);
        }

        .grammar-example {
            background: var(--bg-glass);
            border-radius: var(--border-radius-sm);
            padding: 12px 16px;
            margin: 8px 0;
            border-right: 3px solid var(--accent-purple);
        }

        .grammar-example .de {
            font-family: var(--font-en);
            font-style: italic;
            margin-bottom: 4px;
        }

        .grammar-example .fa {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .grammar-note {
            background: rgba(255, 159, 10, 0.1);
            border: 1px solid rgba(255, 159, 10, 0.2);
            border-radius: var(--border-radius-sm);
            padding: 14px 16px;
            margin: 12px 0;
            font-size: 0.88rem;
        }

        .grammar-note::before {
            content: 'üí° ';
        }

        /* ============================================
           EXPLANATION SECTION
           ============================================ */
        .explanation-content {
            line-height: 2;
        }

        .explanation-block {
            padding: 20px;
            margin-bottom: 16px;
        }

        .explanation-block h3 {
            font-size: 1.05rem;
            margin-bottom: 10px;
            color: var(--accent-teal);
        }

        .explanation-block p {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .dialog-box {
            background: var(--bg-glass);
            border-radius: var(--border-radius-md);
            padding: 16px;
            margin: 12px 0;
        }

        .dialog-line {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .dialog-speaker {
            font-weight: 700;
            color: var(--accent-blue);
            font-family: var(--font-en);
            min-width: 60px;
        }

        /* ============================================
           EXERCISES SECTION
           ============================================ */
        .exercise-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .exercise-card {
            padding: 20px;
        }

        .exercise-type {
            font-size: 0.75rem;
            color: var(--accent-orange);
            font-weight: 600;
            margin-bottom: 8px;
            text-transform: uppercase;
        }

        .exercise-question {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 16px;
            line-height: 1.6;
        }

        .exercise-options {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .exercise-option {
            padding: 14px 18px;
            border-radius: var(--border-radius-sm);
            cursor: pointer;
            transition: all var(--transition-fast);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .exercise-option:hover {
            background: var(--bg-glass-hover);
        }

        .exercise-option .option-letter {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: var(--bg-glass);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.8rem;
            font-family: var(--font-en);
            flex-shrink: 0;
        }

        .exercise-option.correct {
            background: rgba(48, 209, 88, 0.15);
            border-color: var(--accent-green);
        }

        .exercise-option.correct .option-letter {
            background: var(--accent-green);
            color: #fff;
        }

        .exercise-option.incorrect {
            background: rgba(255, 69, 58, 0.15);
            border-color: var(--accent-red);
        }

        .exercise-option.incorrect .option-letter {
            background: var(--accent-red);
            color: #fff;
        }

        .exercise-option.selected {
            border-color: var(--accent-blue);
            background: rgba(10, 132, 255, 0.1);
        }

        .fill-blank-input {
            display: inline-block;
            min-width: 120px;
            border-bottom: 2px solid var(--accent-blue);
            padding: 4px 8px;
            font-family: var(--font-en);
            background: transparent;
            color: var(--text-primary);
            font-size: 1rem;
            outline: none;
            border-top: none;
            border-left: none;
            border-right: none;
        }

        .exercise-feedback {
            padding: 12px 16px;
            border-radius: var(--border-radius-sm);
            margin-top: 12px;
            font-size: 0.88rem;
            display: none;
        }

        .exercise-feedback.correct {
            display: block;
            background: rgba(48, 209, 88, 0.12);
            color: var(--accent-green);
            border: 1px solid rgba(48, 209, 88, 0.2);
        }

        .exercise-feedback.incorrect {
            display: block;
            background: rgba(255, 69, 58, 0.12);
            color: var(--accent-red);
            border: 1px solid rgba(255, 69, 58, 0.2);
        }

        .check-btn {
            margin-top: 12px;
            width: 100%;
        }

        .exercise-score {
            text-align: center;
            padding: 30px;
            margin-top: 20px;
        }

        .exercise-score .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 6px solid var(--accent-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            font-size: 2rem;
            font-weight: 800;
            font-family: var(--font-en);
        }

        /* ============================================
           SCORES PAGE
           ============================================ */
        .scores-page .leaderboard-item {
            display: flex;
            align-items: center;
            gap: 14px;
            padding: 16px 20px;
            margin-bottom: 8px;
        }

        .leaderboard-rank {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-family: var(--font-en);
            font-size: 0.9rem;
            flex-shrink: 0;
        }

        .rank-1 { background: linear-gradient(135deg, #FFD700, #FFA500); color: #fff; }
        .rank-2 { background: linear-gradient(135deg, #C0C0C0, #A8A8A8); color: #fff; }
        .rank-3 { background: linear-gradient(135deg, #CD7F32, #B8860B); color: #fff; }

        .leaderboard-avatar {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--bg-glass);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            flex-shrink: 0;
        }

        .leaderboard-info {
            flex: 1;
        }

        .leaderboard-name {
            font-weight: 600;
            font-size: 0.95rem;
        }

        .leaderboard-level {
            font-size: 0.78rem;
            color: var(--text-secondary);
        }

        .leaderboard-score {
            font-weight: 700;
            font-family: var(--font-en);
            color: var(--accent-orange);
        }

        .my-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 24px;
        }

        .my-stat-card {
            padding: 20px;
            text-align: center;
        }

        .my-stat-card .stat-number {
            font-size: 1.8rem;
            font-weight: 800;
            font-family: var(--font-en);
        }

        .my-stat-card .stat-text {
            font-size: 0.78rem;
            color: var(--text-secondary);
            margin-top: 4px;
        }

        /* ============================================
           ONLINE / ACCOUNT PAGE
           ============================================ */
        .profile-card {
            padding: 24px;
            text-align: center;
            margin-bottom: 20px;
        }

        .profile-avatar-large {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            margin: 0 auto 16px;
        }

        .profile-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .profile-email {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .google-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: 100%;
            padding: 16px;
            border-radius: var(--border-radius-md);
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border: 1px solid var(--bg-glass-border);
            color: var(--text-primary);
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-fast);
            font-family: var(--font-fa);
        }

        .google-btn:hover {
            background: var(--bg-glass-hover);
            transform: translateY(-2px);
        }

        .google-btn svg {
            width: 24px;
            height: 24px;
        }

        /* ============================================
           SETTINGS PAGE
           ============================================ */
        .settings-group {
            margin-bottom: 24px;
        }

        .settings-group-title {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 10px;
            padding: 0 4px;
        }

        .settings-list {
            border-radius: var(--border-radius-lg);
            overflow: hidden;
        }

        .settings-list .glass-card {
            border-radius: 0;
            margin: 0;
        }

        .settings-list .glass-card:first-child {
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }

        .settings-list .glass-card:last-child {
            border-radius: 0 0 var(--border-radius-lg) var(--border-radius-lg);
        }

        .settings-list .glass-card:only-child {
            border-radius: var(--border-radius-lg);
        }

        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            cursor: pointer;
            border-bottom: 1px solid var(--bg-glass-border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .setting-item:hover {
            background: var(--bg-glass-hover);
        }

        .setting-left {
            display: flex;
            align-items: center;
            gap: 14px;
        }

        .setting-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .setting-label {
            font-size: 0.95rem;
        }

        .setting-value {
            font-size: 0.85rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* Toggle Switch */
        .toggle-switch {
            width: 52px;
            height: 32px;
            border-radius: 16px;
            background: var(--bg-tertiary);
            position: relative;
            cursor: pointer;
            transition: all var(--transition-fast);
        }

        .toggle-switch.active {
            background: var(--accent-green);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            border-radius: 50%;
            background: #fff;
            top: 3px;
            left: 3px;
            transition: all var(--transition-fast);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::after {
            left: 23px;
        }

        /* ============================================
           MODAL
           ============================================ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: none;
            align-items: flex-end;
            justify-content: center;
        }

        .modal-overlay.show {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-xl) var(--border-radius-xl) 0 0;
            width: 100%;
            max-width: 430px;
            max-height: 85vh;
            overflow-y: auto;
            padding: 24px;
            animation: slideUp 0.4s ease;
        }

        .modal-handle {
            width: 36px;
            height: 5px;
            border-radius: 3px;
            background: var(--bg-tertiary);
            margin: 0 auto 20px;
        }

        /* ============================================
           PROGRESS BAR
           ============================================ */
        .progress-bar {
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            overflow: hidden;
            margin: 8px 0;
        }

        .progress-fill {
            height: 100%;
            border-radius: 3px;
            background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple));
            transition: width 0.6s ease;
        }

        /* ============================================
           BADGE / TAG
           ============================================ */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.72rem;
            font-weight: 600;
        }

        .badge-green { background: rgba(48, 209, 88, 0.15); color: var(--accent-green); }
        .badge-blue { background: rgba(10, 132, 255, 0.15); color: var(--accent-blue); }
        .badge-orange { background: rgba(255, 159, 10, 0.15); color: var(--accent-orange); }
        .badge-purple { background: rgba(191, 90, 242, 0.15); color: var(--accent-purple); }

        /* ============================================
           SCROLLBAR CUSTOM
           ============================================ */
        ::-webkit-scrollbar {
            width: 4px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--bg-tertiary);
            border-radius: 2px;
        }

        /* ============================================
           RESPONSIVE
           ============================================ */
        @media (max-width: 380px) {
            .level-grid { grid-template-columns: 1fr; }
            .lesson-sections { grid-template-columns: 1fr; }
            .stats-row { grid-template-columns: repeat(3, 1fr); gap: 8px; }
        }

        /* Loading animation */
        .loading-spinner {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid var(--bg-glass-border);
            border-top-color: var(--accent-blue);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Notification toast */
        .toast {
            position: fixed;
            top: calc(var(--status-bar-height) + 60px);
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: var(--bg-glass);
            backdrop-filter: blur(40px);
            border: 1px solid var(--bg-glass-border);
            border-radius: var(--border-radius-md);
            padding: 14px 24px;
            font-size: 0.9rem;
            z-index: 3000;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: var(--shadow-glass-lg);
            max-width: 350px;
            text-align: center;
        }

        .toast.show {
            transform: translateX(-50%) translateY(0);
        }

        /* Chip/Tab for sections */
        .section-tabs {
            display: flex;
            gap: 8px;
            overflow-x: auto;
            padding: 4px 0;
            margin-bottom: 16px;
            -webkit-overflow-scrolling: touch;
        }

        .section-tabs::-webkit-scrollbar { display: none; }

        .section-tab {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.82rem;
            font-weight: 500;
            white-space: nowrap;
            cursor: pointer;
            transition: all var(--transition-fast);
            background: var(--bg-glass);
            border: 1px solid var(--bg-glass-border);
            color: var(--text-secondary);
            font-family: var(--font-fa);
        }

        .section-tab.active {
            background: var(--accent-blue);
            color: #fff;
            border-color: transparent;
        }

        /* Empty state */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
        }

        .empty-state .empty-icon {
            font-size: 4rem;
            margin-bottom: 16px;
        }

        .empty-state .empty-text {
            font-size: 1rem;
            color: var(--text-secondary);
        }
    </style>
</head>
<body data-theme="dark">
    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>

    <div id="app">
        <!-- ============================================
             HEADER
             ============================================ -->
        <header class="app-header" id="appHeader">
            <div class="header-content">
                <button class="header-back" id="headerBack" style="display:none" onclick="goBack()">
                    ‚Üí ÿ®ÿßÿ≤⁄Øÿ¥ÿ™
                </button>
                <h1 class="header-title" id="headerTitle">German App</h1>
                <button class="header-action" id="headerAction" onclick="showNotifications()">üîî</button>
            </div>
        </header>

        <!-- ============================================
             HOME PAGE
             ============================================ -->
        <div class="page active" id="page-home">
            <div class="welcome-banner">
                <h1>!Willkommen</h1>
                <p>ÿ®Ÿá ÿßŸæŸÑ€å⁄©€åÿ¥ŸÜ €åÿßÿØ⁄Ø€åÿ±€å ÿ≤ÿ®ÿßŸÜ ÿ¢ŸÑŸÖÿßŸÜ€å ÿÆŸàÿ¥ ÿ¢ŸÖÿØ€åÿØ</p>
            </div>

            <div class="stats-row">
                <div class="stat-card glass-card">
                    <div class="stat-icon">üî•</div>
                    <div class="stat-value" id="streakCount">0</div>
                    <div class="stat-label">ÿ±Ÿàÿ≤ ŸÖÿ™ŸàÿßŸÑ€å</div>
                </div>
                <div class="stat-card glass-card">
                    <div class="stat-icon">‚≠ê</div>
                    <div class="stat-value" id="totalXP">0</div>
                    <div class="stat-label">ÿßŸÖÿ™€åÿßÿ≤</div>
                </div>
                <div class="stat-card glass-card">
                    <div class="stat-icon">üìö</div>
                    <div class="stat-value" id="lessonsCompleted">0</div>
                    <div class="stat-label">ÿØÿ±ÿ≥ ÿ™ŸÖÿßŸÖ ÿ¥ÿØŸá</div>
                </div>
            </div>

            <h2 class="section-title">üìñ ÿ≥ÿ∑Ÿàÿ≠ ⁄©ÿ™ÿßÿ® Menschen</h2>

            <div class="level-grid" id="levelGrid">
                <!-- Filled by JS -->
            </div>
        </div>

        <!-- ============================================
             LESSONS LIST PAGE
             ============================================ -->
        <div class="page" id="page-lessons">
            <h2 class="section-title" id="lessonsPageTitle"></h2>
            <div class="progress-bar">
                <div class="progress-fill" id="levelProgressBar" style="width: 0%"></div>
            </div>
            <p style="font-size:0.78rem;color:var(--text-secondary);margin-bottom:20px" id="levelProgressText"></p>
            <div class="lessons-list" id="lessonsList">
                <!-- Filled by JS -->
            </div>
        </div>

        <!-- ============================================
             LESSON DETAIL PAGE (4 Sections)
             ============================================ -->
        <div class="page" id="page-lesson-detail">
            <h2 class="section-title" id="lessonDetailTitle"></h2>
            <p style="font-size:0.88rem;color:var(--text-secondary);margin-bottom:20px" id="lessonDetailDesc"></p>

            <div class="lesson-sections" id="lessonSections">
                <div class="section-card glass-card" onclick="showSection('explanation')">
                    <div class="section-icon">üìñ</div>
                    <div class="section-name">ÿ™Ÿàÿ∂€åÿ≠ ÿØÿ±ÿ≥</div>
                    <div class="section-count">ŸÖÿ∑ÿßŸÑÿπŸá ⁄©ŸÜ€åÿØ</div>
                </div>
                <div class="section-card glass-card" onclick="showSection('grammar')">
                    <div class="section-icon">üìù</div>
                    <div class="section-name">⁄Øÿ±ÿßŸÖÿ±</div>
                    <div class="section-count">ŸÇŸàÿßÿπÿØ ÿØÿ≥ÿ™Ÿàÿ±€å</div>
                </div>
                <div class="section-card glass-card" onclick="showSection('vocabulary')">
                    <div class="section-icon">üó£Ô∏è</div>
                    <div class="section-name">Ÿàÿß⁄òŸá‚ÄåŸáÿß</div>
                    <div class="section-count">ŸÑÿ∫ÿßÿ™ ÿ¨ÿØ€åÿØ</div>
                </div>
                <div class="section-card glass-card" onclick="showSection('exercises')">
                    <div class="section-icon">‚úèÔ∏è</div>
                    <div class="section-name">ÿ™ŸÖÿ±€åŸÜ</div>
                    <div class="section-count">ÿ¢ÿ≤ŸÖŸàŸÜ ÿØÿßŸÜÿ¥</div>
                </div>
            </div>
        </div>

        <!-- ============================================
             SECTION CONTENT PAGE
             ============================================ -->
        <div class="page" id="page-section">
            <div class="section-tabs" id="sectionTabs">
                <div class="section-tab active" onclick="switchSectionTab('explanation')">üìñ ÿ™Ÿàÿ∂€åÿ≠ ÿØÿ±ÿ≥</div>
                <div class="section-tab" onclick="switchSectionTab('grammar')">üìù ⁄Øÿ±ÿßŸÖÿ±</div>
                <div class="section-tab" onclick="switchSectionTab('vocabulary')">üó£Ô∏è Ÿàÿß⁄òŸá‚ÄåŸáÿß</div>
                <div class="section-tab" onclick="switchSectionTab('exercises')">‚úèÔ∏è ÿ™ŸÖÿ±€åŸÜ</div>
            </div>
            <div id="sectionContent">
                <!-- Filled dynamically -->
            </div>
        </div>

        <!-- ============================================
             SCORES PAGE
             ============================================ -->
        <div class="page" id="page-scores">
            <h2 class="section-title">üèÜ ÿ¨ÿØŸàŸÑ ÿßŸÖÿ™€åÿßÿ≤ÿßÿ™</h2>

            <div class="my-stats">
                <div class="my-stat-card glass-card">
                    <div class="stat-number" style="color:var(--accent-orange)" id="myTotalScore">0</div>
                    <div class="stat-text">ÿßŸÖÿ™€åÿßÿ≤ ⁄©ŸÑ</div>
                </div>
                <div class="my-stat-card glass-card">
                    <div class="stat-number" style="color:var(--accent-green)" id="myRank">#1</div>
                    <div class="stat-text">ÿ±ÿ™ÿ®Ÿá ÿ¥ŸÖÿß</div>
                </div>
                <div class="my-stat-card glass-card">
                    <div class="stat-number" style="color:var(--accent-purple)" id="correctAnswers">0</div>
                    <div class="stat-text">Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠</div>
                </div>
                <div class="my-stat-card glass-card">
                    <div class="stat-number" style="color:var(--accent-blue)" id="wordsLearned">0</div>
                    <div class="stat-text">ŸÑÿ∫ÿ™ €åÿßÿØ ⁄Øÿ±ŸÅÿ™Ÿá</div>
                </div>
            </div>

            <h3 class="section-title">üëë ÿ®ÿ±ÿ™ÿ±€åŸÜ‚ÄåŸáÿß</h3>
            <div id="leaderboard">
                <!-- Filled by JS -->
            </div>
        </div>

        <!-- ============================================
             ONLINE / ACCOUNT PAGE
             ============================================ -->
        <div class="page" id="page-online">
            <div id="loggedOutView">
                <div class="profile-card glass-card">
                    <div class="profile-avatar-large">üë§</div>
                    <h2 class="profile-name">Ÿàÿ±ŸàÿØ ÿ®Ÿá ÿ≠ÿ≥ÿßÿ®</h2>
                    <p class="profile-email">ÿ®ÿ±ÿß€å ÿ∞ÿÆ€åÿ±Ÿá Ÿæ€åÿ¥ÿ±ŸÅÿ™ Ÿàÿßÿ±ÿØ ÿ¥Ÿà€åÿØ</p>
                </div>

                <button class="google-btn" onclick="signInWithGoogle()">
                    <svg viewBox="0 0 24 24">
                        <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/>
                        <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                        <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                        <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
                    </svg>
                    Ÿàÿ±ŸàÿØ ÿ®ÿß ÿ≠ÿ≥ÿßÿ® ⁄ØŸà⁄ØŸÑ
                </button>
            </div>

            <div id="loggedInView" style="display:none">
                <div class="profile-card glass-card">
                    <div class="profile-avatar-large" id="userAvatar">üë§</div>
                    <h2 class="profile-name" id="userName">⁄©ÿßÿ±ÿ®ÿ±</h2>
                    <p class="profile-email" id="userEmail">email@gmail.com</p>
                </div>

                <div class="my-stats" style="margin-bottom:20px">
                    <div class="my-stat-card glass-card">
                        <div class="stat-number" style="color:var(--accent-blue)" id="onlineLevel">A1.1</div>
                        <div class="stat-text">ÿ≥ÿ∑ÿ≠ ŸÅÿπŸÑ€å</div>
                    </div>
                    <div class="my-stat-card glass-card">
                        <div class="stat-number" style="color:var(--accent-green)" id="onlineProgress">0%</div>
                        <div class="stat-text">Ÿæ€åÿ¥ÿ±ŸÅÿ™</div>
                    </div>
                </div>

                <button class="glass-button" style="width:100%;margin-top:12px;color:var(--accent-red)" onclick="signOut()">
                    üö™ ÿÆÿ±Ÿàÿ¨ ÿßÿ≤ ÿ≠ÿ≥ÿßÿ®
                </button>
            </div>
        </div>

        <!-- ============================================
             SETTINGS PAGE
             ============================================ -->
        <div class="page" id="page-settings">
            <h2 class="section-title">‚öôÔ∏è ÿ™ŸÜÿ∏€åŸÖÿßÿ™</h2>

            <div class="settings-group">
                <div class="settings-group-title">ÿ∏ÿßŸáÿ±</div>
                <div class="settings-list glass-card">
                    <div class="setting-item" onclick="toggleTheme()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-blue)">üåô</div>
                            <span class="setting-label">ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄©</span>
                        </div>
                        <div class="toggle-switch active" id="darkModeToggle"></div>
                    </div>
                    <div class="setting-item" onclick="changeFontSize()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-purple)">üî§</div>
                            <span class="setting-label">ÿßŸÜÿØÿßÿ≤Ÿá ŸÅŸàŸÜÿ™</span>
                        </div>
                        <div class="setting-value" id="fontSizeValue">ŸÖÿ™Ÿàÿ≥ÿ∑ ‚Üê</div>
                    </div>
                </div>
            </div>

            <div class="settings-group">
                <div class="settings-group-title">ÿµÿØÿß</div>
                <div class="settings-list glass-card">
                    <div class="setting-item" onclick="toggleSound()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-green)">üîä</div>
                            <span class="setting-label">ÿµÿØÿß€å ÿ™ŸÑŸÅÿ∏</span>
                        </div>
                        <div class="toggle-switch active" id="soundToggle"></div>
                    </div>
                    <div class="setting-item" onclick="toggleAutoPlay()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-orange)">‚ñ∂Ô∏è</div>
                            <span class="setting-label">ŸæÿÆÿ¥ ÿÆŸàÿØ⁄©ÿßÿ± ÿµÿØÿß</span>
                        </div>
                        <div class="toggle-switch" id="autoPlayToggle"></div>
                    </div>
                    <div class="setting-item" onclick="changeSpeechRate()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-teal)">‚è©</div>
                            <span class="setting-label">ÿ≥ÿ±ÿπÿ™ ÿ™ŸÑŸÅÿ∏</span>
                        </div>
                        <div class="setting-value" id="speechRateValue">ÿπÿßÿØ€å ‚Üê</div>
                    </div>
                </div>
            </div>

            <div class="settings-group">
                <div class="settings-group-title">€åÿßÿØ⁄Ø€åÿ±€å</div>
                <div class="settings-list glass-card">
                    <div class="setting-item" onclick="toggleNotifications()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-pink)">üîî</div>
                            <span class="setting-label">€åÿßÿØÿ¢Ÿàÿ±€å ÿ±Ÿàÿ≤ÿßŸÜŸá</span>
                        </div>
                        <div class="toggle-switch active" id="notifToggle"></div>
                    </div>
                    <div class="setting-item" onclick="changeLanguage()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-yellow)">üåê</div>
                            <span class="setting-label">ÿ≤ÿ®ÿßŸÜ ÿ™ÿ±ÿ¨ŸÖŸá</span>
                        </div>
                        <div class="setting-value" id="langValue">ŸÅÿßÿ±ÿ≥€å ‚Üê</div>
                    </div>
                </div>
            </div>

            <div class="settings-group">
                <div class="settings-group-title">ÿØÿßÿØŸá‚ÄåŸáÿß</div>
                <div class="settings-list glass-card">
                    <div class="setting-item" onclick="resetProgress()">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--accent-red)">üóëÔ∏è</div>
                            <span class="setting-label" style="color:var(--accent-red)">Ÿæÿß⁄© ⁄©ÿ±ÿØŸÜ Ÿæ€åÿ¥ÿ±ŸÅÿ™</span>
                        </div>
                        <div class="setting-value">‚Üê</div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-left">
                            <div class="setting-icon" style="background:var(--bg-tertiary)">‚ÑπÔ∏è</div>
                            <span class="setting-label">ŸÜÿ≥ÿÆŸá ÿ®ÿ±ŸÜÿßŸÖŸá</span>
                        </div>
                        <div class="setting-value">1.0.0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================
             BOTTOM NAVIGATION
             ============================================ -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-page="home" onclick="navigateTo('home')">
                <span class="nav-icon">üè†</span>
                <span class="nav-label">ÿÆÿßŸÜŸá</span>
            </button>
            <button class="nav-item" data-page="scores" onclick="navigateTo('scores')">
                <span class="nav-icon">üèÜ</span>
                <span class="nav-label">ÿßŸÖÿ™€åÿßÿ≤ÿßÿ™</span>
            </button>
            <button class="nav-item" data-page="online" onclick="navigateTo('online')">
                <span class="nav-icon">üåê</span>
                <span class="nav-label">ÿ¢ŸÜŸÑÿß€åŸÜ</span>
            </button>
            <button class="nav-item" data-page="settings" onclick="navigateTo('settings')">
                <span class="nav-icon">‚öôÔ∏è</span>
                <span class="nav-label">ÿ™ŸÜÿ∏€åŸÖÿßÿ™</span>
            </button>
        </nav>
    </div>

    <script>
    // ============================================
    // COMPLETE MENSCHEN BOOK DATA
    // ============================================

    const BOOK_DATA = {

    // ============================
    // A1.1 - 12 LESSONS COMPLETE
    // ============================
    "a1-1": {
        name: "A1.1",
        fullName: "Menschen A1.1",
        color: "#30d158",
        icon: "üå±",
        description: "ŸÖÿ®ÿ™ÿØ€å - ÿ®ÿÆÿ¥ ÿßŸàŸÑ",
        lessons: [
            // --- Lektion 1: Hallo! Ich bin Nicole ---
            {
                id: 1,
                title: "Hallo! Ich bin Nicole",
                subtitle: "ÿ≥ŸÑÿßŸÖ! ŸÖŸÜ ŸÜ€å⁄©ŸàŸÑ Ÿáÿ≥ÿ™ŸÖ",
                explanation: {
                    title: "ŸÖÿπÿ±ŸÅ€å ÿÆŸàÿØ Ÿà ÿØ€å⁄Øÿ±ÿßŸÜ",
                    blocks: [
                        {
                            heading: "ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ≥",
                            text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ ⁄Ü⁄ØŸàŸÜŸá ÿÆŸàÿØ ÿ±ÿß ŸÖÿπÿ±ŸÅ€å ⁄©ŸÜ€åÿØÿå ŸÜÿßŸÖ Ÿà ⁄©ÿ¥Ÿàÿ±ÿ™ÿßŸÜ ÿ±ÿß ÿ®⁄ØŸà€å€åÿØÿå ÿ≥ŸÑÿßŸÖ Ÿà ÿßÿ≠ŸàÿßŸÑŸæÿ±ÿ≥€å ⁄©ŸÜ€åÿØ Ÿà ÿ≤ÿ®ÿßŸÜ€å ⁄©Ÿá ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜ€åÿØ ÿ±ÿß ÿ®€åÿßŸÜ ⁄©ŸÜ€åÿØ."
                        },
                        {
                            heading: "ŸÖ⁄©ÿßŸÑŸÖŸá ŸÜŸÖŸàŸÜŸá",
                            dialog: [
                                { speaker: "Nicole", text: "Hallo! Ich bin Nicole. Und wie hei√üt du?" },
                                { speaker: "Mehdi", text: "Hallo! Ich hei√üe Mehdi." },
                                { speaker: "Nicole", text: "Woher kommst du, Mehdi?" },
                                { speaker: "Mehdi", text: "Ich komme aus dem Iran. Und du?" },
                                { speaker: "Nicole", text: "Ich komme aus Deutschland." },
                                { speaker: "Mehdi", text: "Welche Sprachen sprichst du?" },
                                { speaker: "Nicole", text: "Ich spreche Deutsch und Englisch." }
                            ]
                        },
                        {
                            heading: "ŸÜ⁄©ÿßÿ™ ŸÖŸáŸÖ",
                            text: "ÿØÿ± ÿ¢ŸÑŸÖÿßŸÜ€å ÿØŸà ÿ≠ÿßŸÑÿ™ ÿÆÿ∑ÿßÿ® Ÿàÿ¨ŸàÿØ ÿØÿßÿ±ÿØ: du (ÿ™Ÿà - ÿ∫€åÿ±ÿ±ÿ≥ŸÖ€å) Ÿà Sie (ÿ¥ŸÖÿß - ÿ±ÿ≥ŸÖ€å). ÿØÿ± ŸÖŸàŸÇÿπ€åÿ™‚ÄåŸáÿß€å ÿØŸàÿ≥ÿ™ÿßŸÜŸá ÿßÿ≤ du Ÿà ÿØÿ± ŸÖŸàŸÇÿπ€åÿ™‚ÄåŸáÿß€å ÿ±ÿ≥ŸÖ€å ÿßÿ≤ Sie ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ."
                        },
                        {
                            heading: "ÿ≠ÿßŸÑÿ™ ÿ±ÿ≥ŸÖ€å",
                            dialog: [
                                { speaker: "Herr M√ºller", text: "Guten Tag! Ich bin Thomas M√ºller. Wie hei√üen Sie?" },
                                { speaker: "Frau Schmidt", text: "Guten Tag! Ich hei√üe Anna Schmidt." },
                                { speaker: "Herr M√ºller", text: "Woher kommen Sie?" },
                                { speaker: "Frau Schmidt", text: "Ich komme aus √ñsterreich." }
                            ]
                        }
                    ]
                },
                grammar: {
                    title: "ŸÅÿπŸÑ‚ÄåŸáÿß€å sein Ÿà hei√üen - ÿ∂ŸÖÿß€åÿ± ÿ¥ÿÆÿµ€å",
                    blocks: [
                        {
                            heading: "ÿ∂ŸÖÿß€åÿ± ÿ¥ÿÆÿµ€å (Personalpronomen)",
                            text: "ÿ∂ŸÖÿß€åÿ± ÿ¥ÿÆÿµ€å ÿØÿ± ÿ¢ŸÑŸÖÿßŸÜ€å ÿπÿ®ÿßÿ±ÿ™ŸÜÿØ ÿßÿ≤:",
                            table: {
                                headers: ["ÿ¢ŸÑŸÖÿßŸÜ€å", "ŸÅÿßÿ±ÿ≥€å", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "ŸÖŸÜ", "Ich bin Mehdi."],
                                    ["du", "ÿ™Ÿà", "Du bist nett."],
                                    ["er", "ÿßŸà (ŸÖÿ∞⁄©ÿ±)", "Er ist gro√ü."],
                                    ["sie", "ÿßŸà (ŸÖÿ§ŸÜÿ´)", "Sie ist klein."],
                                    ["es", "ÿ¢ŸÜ (ÿÆŸÜÿ´€å)", "Es ist gut."],
                                    ["wir", "ŸÖÿß", "Wir sind hier."],
                                    ["ihr", "ÿ¥ŸÖÿß (ÿ¨ŸÖÿπ ÿ∫€åÿ±ÿ±ÿ≥ŸÖ€å)", "Ihr seid nett."],
                                    ["sie/Sie", "ÿ¢ŸÜŸáÿß / ÿ¥ŸÖÿß (ÿ±ÿ≥ŸÖ€å)", "Sie sind freundlich."]
                                ]
                            }
                        },
                        {
                            heading: "ÿµÿ±ŸÅ ŸÅÿπŸÑ sein (ÿ®ŸàÿØŸÜ)",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "sein", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "bin", "Ich bin Student."],
                                    ["du", "bist", "Du bist nett."],
                                    ["er/sie/es", "ist", "Er ist Lehrer."],
                                    ["wir", "sind", "Wir sind Freunde."],
                                    ["ihr", "seid", "Ihr seid toll."],
                                    ["sie/Sie", "sind", "Sie sind aus Wien."]
                                ]
                            }
                        },
                        {
                            heading: "ÿµÿ±ŸÅ ŸÅÿπŸÑ hei√üen (ŸÜÿßŸÖ€åÿØŸá ÿ¥ÿØŸÜ)",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "hei√üen", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "hei√üe", "Ich hei√üe Mehdi."],
                                    ["du", "hei√üt", "Wie hei√üt du?"],
                                    ["er/sie/es", "hei√üt", "Sie hei√üt Anna."],
                                    ["wir", "hei√üen", "Wir hei√üen M√ºller."],
                                    ["ihr", "hei√üt", "Wie hei√üt ihr?"],
                                    ["sie/Sie", "hei√üen", "Wie hei√üen Sie?"]
                                ]
                            }
                        },
                        {
                            heading: "ÿµÿ±ŸÅ ŸÅÿπŸÑ kommen (ÿ¢ŸÖÿØŸÜ)",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "kommen", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "komme", "Ich komme aus dem Iran."],
                                    ["du", "kommst", "Woher kommst du?"],
                                    ["er/sie/es", "kommt", "Er kommt aus Berlin."],
                                    ["wir", "kommen", "Wir kommen aus Wien."],
                                    ["ihr", "kommt", "Woher kommt ihr?"],
                                    ["sie/Sie", "kommen", "Woher kommen Sie?"]
                                ]
                            }
                        },
                        {
                            heading: "ÿ≥ÿßÿÆÿ™ÿßÿ± ÿ¨ŸÖŸÑŸá Ÿæÿ±ÿ≥ÿ¥€å ÿ®ÿß W-Frage",
                            text: "ÿØÿ± ÿ≥ÿ§ÿßŸÑÿßÿ™€å ⁄©Ÿá ÿ®ÿß ⁄©ŸÑŸÖŸá Ÿæÿ±ÿ≥ÿ¥€å ÿ¥ÿ±Ÿàÿπ ŸÖ€å‚Äåÿ¥ŸàŸÜÿØÿå ŸÅÿπŸÑ ÿØÿ± ÿ¨ÿß€å⁄ØÿßŸá ÿØŸàŸÖ ŸÇÿ±ÿßÿ± ŸÖ€å‚Äå⁄Ø€åÿ±ÿØ.",
                            examples: [
                                { de: "Wie hei√üt du?", fa: "ÿßÿ≥ŸÖÿ™ ⁄Ü€åŸáÿü" },
                                { de: "Woher kommst du?", fa: "ÿßÿ≤ ⁄©ÿ¨ÿß ŸÖ€åÿß€åÿü" },
                                { de: "Welche Sprachen sprichst du?", fa: "⁄ÜŸá ÿ≤ÿ®ÿßŸÜ‚ÄåŸáÿß€å€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜ€åÿü" }
                            ]
                        },
                        {
                            heading: "ÿ≥ÿßÿÆÿ™ÿßÿ± ÿ¨ŸÖŸÑŸá Ÿæÿ±ÿ≥ÿ¥€å ÿ®ŸÑŸá/ÿÆ€åÿ± (Ja/Nein-Frage)",
                            text: "ÿØÿ± ÿ≥ÿ§ÿßŸÑÿßÿ™ ÿ®ŸÑŸá/ÿÆ€åÿ±ÿå ŸÅÿπŸÑ ÿØÿ± ÿ¨ÿß€å⁄ØÿßŸá ÿßŸàŸÑ ŸÇÿ±ÿßÿ± ŸÖ€å‚Äå⁄Ø€åÿ±ÿØ.",
                            examples: [
                                { de: "Bist du Mehdi?", fa: "ÿ™Ÿà ŸÖŸáÿØ€å Ÿáÿ≥ÿ™€åÿü" },
                                { de: "Kommst du aus dem Iran?", fa: "ÿßÿ≤ ÿß€åÿ±ÿßŸÜ ŸÖ€åÿß€åÿü" },
                                { de: "Sprichst du Deutsch?", fa: "ÿ¢ŸÑŸÖÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜ€åÿü" }
                            ]
                        }
                    ]
                },
                vocabulary: [
                    { word: "hallo", article: "", plural: "", translation: "ÿ≥ŸÑÿßŸÖ", example: "Hallo, wie geht's?", exampleTranslation: "ÿ≥ŸÑÿßŸÖÿå ÿ≠ÿßŸÑÿ™ ⁄Üÿ∑Ÿàÿ±Ÿáÿü" },
                    { word: "guten Tag", article: "", plural: "", translation: "ÿ±Ÿàÿ≤ ÿ®ÿÆ€åÿ±", example: "Guten Tag, Herr M√ºller!", exampleTranslation: "ÿ±Ÿàÿ≤ ÿ®ÿÆ€åÿ±ÿå ÿ¢ŸÇÿß€å ŸÖŸàŸÑÿ±!" },
                    { word: "guten Morgen", article: "", plural: "", translation: "ÿµÿ®ÿ≠ ÿ®ÿÆ€åÿ±", example: "Guten Morgen! Wie geht es Ihnen?", exampleTranslation: "ÿµÿ®ÿ≠ ÿ®ÿÆ€åÿ±! ÿ≠ÿßŸÑÿ™ÿßŸÜ ⁄Üÿ∑Ÿàÿ± ÿßÿ≥ÿ™ÿü" },
                    { word: "guten Abend", article: "", plural: "", translation: "ÿπÿµÿ± ÿ®ÿÆ€åÿ±", example: "Guten Abend zusammen!", exampleTranslation: "ÿπÿµÿ± ŸáŸÖ⁄Ø€å ÿ®ÿÆ€åÿ±!" },
                    { word: "tsch√ºs", article: "", plural: "", translation: "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏ (ÿ∫€åÿ±ÿ±ÿ≥ŸÖ€å)", example: "Tsch√ºs, bis morgen!", exampleTranslation: "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏ÿå ÿ™ÿß ŸÅÿ±ÿØÿß!" },
                    { word: "auf Wiedersehen", article: "", plural: "", translation: "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏ (ÿ±ÿ≥ŸÖ€å)", example: "Auf Wiedersehen, Frau Schmidt!", exampleTranslation: "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏ÿå ÿÆÿßŸÜŸÖ ÿßÿ¥ŸÖ€åÿ™!" },
                    { word: "Name", article: "der", plural: "die Namen", translation: "ŸÜÿßŸÖÿå ÿßÿ≥ŸÖ", example: "Mein Name ist Mehdi.", exampleTranslation: "ÿßÿ≥ŸÖ ŸÖŸÜ ŸÖŸáÿØ€å ÿßÿ≥ÿ™." },
                    { word: "Frau", article: "die", plural: "die Frauen", translation: "ÿÆÿßŸÜŸÖ / ÿ≤ŸÜ", example: "Frau M√ºller ist Lehrerin.", exampleTranslation: "ÿÆÿßŸÜŸÖ ŸÖŸàŸÑÿ± ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." },
                    { word: "Herr", article: "der", plural: "die Herren", translation: "ÿ¢ŸÇÿß", example: "Herr Schmidt kommt aus Berlin.", exampleTranslation: "ÿ¢ŸÇÿß€å ÿßÿ¥ŸÖ€åÿ™ ÿßÿ≤ ÿ®ÿ±ŸÑ€åŸÜ ŸÖ€å‚Äåÿ¢€åÿØ." },
                    { word: "Land", article: "das", plural: "die L√§nder", translation: "⁄©ÿ¥Ÿàÿ±", example: "Aus welchem Land kommst du?", exampleTranslation: "ÿßÿ≤ ⁄ÜŸá ⁄©ÿ¥Ÿàÿ±€å ŸÖ€å‚Äåÿ¢€å€åÿü" },
                    { word: "Sprache", article: "die", plural: "die Sprachen", translation: "ÿ≤ÿ®ÿßŸÜ", example: "Welche Sprache sprichst du?", exampleTranslation: "⁄ÜŸá ÿ≤ÿ®ÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜ€åÿü" },
                    { word: "Deutsch", article: "", plural: "", translation: "ÿ¢ŸÑŸÖÿßŸÜ€å", example: "Ich lerne Deutsch.", exampleTranslation: "ŸÖŸÜ ÿ¢ŸÑŸÖÿßŸÜ€å €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±ŸÖ." },
                    { word: "Englisch", article: "", plural: "", translation: "ÿßŸÜ⁄ØŸÑ€åÿ≥€å", example: "Sie spricht Englisch.", exampleTranslation: "ÿßŸà ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "kommen", article: "", plural: "", translation: "ÿ¢ŸÖÿØŸÜ", example: "Ich komme aus dem Iran.", exampleTranslation: "ŸÖŸÜ ÿßÿ≤ ÿß€åÿ±ÿßŸÜ ŸÖ€å‚Äåÿ¢€åŸÖ." },
                    { word: "hei√üen", article: "", plural: "", translation: "ŸÜÿßŸÖ ÿØÿßÿ¥ÿ™ŸÜ", example: "Wie hei√üen Sie?", exampleTranslation: "ÿßÿ≥ŸÖ ÿ¥ŸÖÿß ⁄Ü€åÿ≥ÿ™ÿü" },
                    { word: "sprechen", article: "", plural: "", translation: "ÿµÿ≠ÿ®ÿ™ ⁄©ÿ±ÿØŸÜ", example: "Er spricht drei Sprachen.", exampleTranslation: "ÿßŸà ÿ≥Ÿá ÿ≤ÿ®ÿßŸÜ ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "sein", article: "", plural: "", translation: "ÿ®ŸàÿØŸÜ", example: "Ich bin Student.", exampleTranslation: "ŸÖŸÜ ÿØÿßŸÜÿ¥ÿ¨Ÿà Ÿáÿ≥ÿ™ŸÖ." },
                    { word: "wohnen", article: "", plural: "", translation: "ÿ≤ŸÜÿØ⁄Ø€å ⁄©ÿ±ÿØŸÜ / ÿ≥⁄©ŸàŸÜÿ™ ÿØÿßÿ¥ÿ™ŸÜ", example: "Ich wohne in Berlin.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ÿ®ÿ±ŸÑ€åŸÜ ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "lernen", article: "", plural: "", translation: "€åÿßÿØ ⁄Øÿ±ŸÅÿ™ŸÜ", example: "Wir lernen Deutsch.", exampleTranslation: "ŸÖÿß ÿ¢ŸÑŸÖÿßŸÜ€å €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åŸÖ." },
                    { word: "und", article: "", plural: "", translation: "Ÿà", example: "Ich spreche Deutsch und Englisch.", exampleTranslation: "ŸÖŸÜ ÿ¢ŸÑŸÖÿßŸÜ€å Ÿà ÿßŸÜ⁄ØŸÑ€åÿ≥€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "auch", article: "", plural: "", translation: "ŸáŸÖÿå ŸáŸÖ⁄ÜŸÜ€åŸÜ", example: "Ich komme auch aus dem Iran.", exampleTranslation: "ŸÖŸÜ ŸáŸÖ ÿßÿ≤ ÿß€åÿ±ÿßŸÜ ŸÖ€å‚Äåÿ¢€åŸÖ." },
                    { word: "ja", article: "", plural: "", translation: "ÿ®ŸÑŸá", example: "Ja, ich spreche Deutsch.", exampleTranslation: "ÿ®ŸÑŸáÿå ŸÖŸÜ ÿ¢ŸÑŸÖÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "nein", article: "", plural: "", translation: "ŸÜŸáÿå ÿÆ€åÿ±", example: "Nein, ich komme nicht aus Berlin.", exampleTranslation: "ŸÜŸáÿå ŸÖŸÜ ÿßÿ≤ ÿ®ÿ±ŸÑ€åŸÜ ŸÜŸÖ€å‚Äåÿ¢€åŸÖ." },
                    { word: "nicht", article: "", plural: "", translation: "ŸÜŸáÿå ŸÜŸÅ€å", example: "Ich bin nicht m√ºde.", exampleTranslation: "ŸÖŸÜ ÿÆÿ≥ÿ™Ÿá ŸÜ€åÿ≥ÿ™ŸÖ." },
                    { word: "wie", article: "", plural: "", translation: "⁄Ü⁄ØŸàŸÜŸá / ⁄Üÿ∑Ÿàÿ±", example: "Wie hei√üt du?", exampleTranslation: "ÿßÿ≥ŸÖÿ™ ⁄Ü€åŸáÿü" },
                    { word: "woher", article: "", plural: "", translation: "ÿßÿ≤ ⁄©ÿ¨ÿß", example: "Woher kommst du?", exampleTranslation: "ÿßÿ≤ ⁄©ÿ¨ÿß ŸÖ€å‚Äåÿ¢€å€åÿü" },
                    { word: "wo", article: "", plural: "", translation: "⁄©ÿ¨ÿß", example: "Wo wohnst du?", exampleTranslation: "⁄©ÿ¨ÿß ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜ€åÿü" },
                    { word: "welche", article: "", plural: "", translation: "⁄©ÿØÿßŸÖ / ⁄ÜŸá", example: "Welche Sprachen sprichst du?", exampleTranslation: "⁄ÜŸá ÿ≤ÿ®ÿßŸÜ‚ÄåŸáÿß€å€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜ€åÿü" },
                    { word: "aus", article: "", plural: "", translation: "ÿßÿ≤ (ŸÖÿ®ÿØÿ£)", example: "Ich komme aus Teheran.", exampleTranslation: "ŸÖŸÜ ÿßÿ≤ ÿ™Ÿáÿ±ÿßŸÜ ŸÖ€å‚Äåÿ¢€åŸÖ." },
                    { word: "in", article: "", plural: "", translation: "ÿØÿ±", example: "Ich wohne in M√ºnchen.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ŸÖŸàŸÜ€åÿÆ ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜŸÖ." }
                ],
                exercises: [
                    {
                        type: "multiple",
                        question: "¬´ŸÖŸÜ ŸÖŸáÿØ€å Ÿáÿ≥ÿ™ŸÖ¬ª ÿ®Ÿá ÿ¢ŸÑŸÖÿßŸÜ€å:",
                        options: ["Ich bin Mehdi.", "Ich hei√üe Mehdi.", "Ÿáÿ± ÿØŸà ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.", "Ich komme Mehdi."],
                        correct: 2
                    },
                    {
                        type: "multiple",
                        question: "Wie _____ du?",
                        options: ["hei√üt", "hei√üe", "hei√üen", "hei√üt ihr"],
                        correct: 0
                    },
                    {
                        type: "multiple",
                        question: "Woher _____ Sie?",
                        options: ["kommst", "kommt", "kommen", "komme"],
                        correct: 2
                    },
                    {
                        type: "multiple",
                        question: "Er _____ aus Berlin.",
                        options: ["komme", "kommst", "kommt", "kommen"],
                        correct: 2
                    },
                    {
                        type: "multiple",
                        question: "_____ du Deutsch?",
                        options: ["Sprichst", "Spreche", "Sprecht", "Sprechen"],
                        correct: 0
                    },
                    {
                        type: "multiple",
                        question: "Wir _____ Studenten.",
                        options: ["bin", "bist", "ist", "sind"],
                        correct: 3
                    },
                    {
                        type: "multiple",
                        question: "Ich _____ in M√ºnchen.",
                        options: ["wohne", "wohnst", "wohnt", "wohnen"],
                        correct: 0
                    },
                    {
                        type: "fill",
                        question: "Ich _____ Anna. (hei√üen)",
                        answer: "hei√üe"
                    },
                    {
                        type: "fill",
                        question: "Woher _____ du? (kommen)",
                        answer: "kommst"
                    },
                    {
                        type: "fill",
                        question: "Er _____ Lehrer. (sein)",
                        answer: "ist"
                    },
                    {
                        type: "multiple",
                        question: "⁄©ÿØÿßŸÖ ÿ≥ŸÑÿßŸÖ ÿ±ÿ≥ŸÖ€å ÿßÿ≥ÿ™ÿü",
                        options: ["Hallo!", "Guten Tag!", "Tsch√ºs!", "Hi!"],
                        correct: 1
                    },
                    {
                        type: "multiple",
                        question: "Auf Wiedersehen €åÿπŸÜ€å:",
                        options: ["ÿ≥ŸÑÿßŸÖ", "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏ (ÿ±ÿ≥ŸÖ€å)", "ÿµÿ®ÿ≠ ÿ®ÿÆ€åÿ±", "ÿ¥ÿ® ÿ®ÿÆ€åÿ±"],
                        correct: 1
                    }
                ]
            },

            // --- Lektion 2: Ich bin Journalistin ---
            {
                id: 2,
                title: "Ich bin Journalistin",
                subtitle: "ŸÖŸÜ ÿÆÿ®ÿ±ŸÜ⁄Øÿßÿ± Ÿáÿ≥ÿ™ŸÖ - ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß",
                explanation: {
                    title: "ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß Ÿà ŸÖÿπÿ±ŸÅ€å ÿ≠ÿ±ŸÅŸá",
                    blocks: [
                        {
                            heading: "ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ≥",
                            text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ ÿ¥ÿ∫ŸÑ ÿÆŸàÿØ ÿ±ÿß ÿ®⁄ØŸà€å€åÿØÿå ÿØÿ±ÿ®ÿßÿ±Ÿá ÿ¥ÿ∫ŸÑ ÿØ€å⁄Øÿ±ÿßŸÜ ÿ≥ÿ§ÿßŸÑ ⁄©ŸÜ€åÿØÿå Ÿà ŸÅÿ±ŸÇ ÿ¥⁄©ŸÑ ŸÖÿ∞⁄©ÿ± Ÿà ŸÖÿ§ŸÜÿ´ ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß ÿ±ÿß ÿ®ÿØÿßŸÜ€åÿØ."
                        },
                        {
                            heading: "ŸÖ⁄©ÿßŸÑŸÖŸá ŸÜŸÖŸàŸÜŸá",
                            dialog: [
                                { speaker: "A", text: "Was bist du von Beruf?" },
                                { speaker: "B", text: "Ich bin Journalistin. Und du?" },
                                { speaker: "A", text: "Ich bin Arzt." },
                                { speaker: "B", text: "Wo arbeitest du?" },
                                { speaker: "A", text: "Ich arbeite in einem Krankenhaus." }
                            ]
                        },
                        {
                            heading: "ŸÜ⁄©ÿ™Ÿá ŸÖŸáŸÖ: ŸÖÿ∞⁄©ÿ± Ÿà ŸÖÿ§ŸÜÿ´ ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß",
                            text: "ÿØÿ± ÿ¢ŸÑŸÖÿßŸÜ€å ÿ®€åÿ¥ÿ™ÿ± ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß ÿ®ÿ±ÿß€å ŸÖÿ§ŸÜÿ´ Ÿæÿ≥ŸàŸÜÿØ -in ŸÖ€å‚Äå⁄Ø€åÿ±ŸÜÿØ. ŸÖÿ´ŸÑÿßŸã: Lehrer ‚Üí Lehrerinÿå Arzt ‚Üí √Ñrztinÿå Student ‚Üí Studentin. ÿØŸÇÿ™ ⁄©ŸÜ€åÿØ ÿ®ÿπÿ∂€å ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß Umlaut ŸáŸÖ ŸÖ€å‚Äå⁄Ø€åÿ±ŸÜÿØ."
                        }
                    ]
                },
                grammar: {
                    title: "ŸÅÿπŸÑ‚ÄåŸáÿß€å haben Ÿà arbeiten - ÿ≠ÿßŸÑÿ™ ŸÖÿ∞⁄©ÿ± Ÿà ŸÖÿ§ŸÜÿ´ ÿ¥ÿ∫ŸÑ",
                    blocks: [
                        {
                            heading: "ÿµÿ±ŸÅ ŸÅÿπŸÑ arbeiten (⁄©ÿßÿ± ⁄©ÿ±ÿØŸÜ)",
                            text: "ŸÅÿπŸÑ arbeiten ÿßÿ≤ ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®€å‚ÄåŸÇÿßÿπÿØŸá‚Äåÿß€å ÿßÿ≥ÿ™ ⁄©Ÿá ÿØÿ± ÿ®ÿπÿ∂€å ÿµ€åÿ∫Ÿá‚ÄåŸáÿß e ÿßÿ∂ÿßŸÅŸá ŸÖ€å‚Äåÿ¥ŸàÿØ.",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "arbeiten", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "arbeite", "Ich arbeite bei Siemens."],
                                    ["du", "arbeitest", "Wo arbeitest du?"],
                                    ["er/sie/es", "arbeitet", "Sie arbeitet als √Ñrztin."],
                                    ["wir", "arbeiten", "Wir arbeiten zusammen."],
                                    ["ihr", "arbeitet", "Wo arbeitet ihr?"],
                                    ["sie/Sie", "arbeiten", "Sie arbeiten in Berlin."]
                                ]
                            }
                        },
                        {
                            heading: "ŸÖÿ∞⁄©ÿ± Ÿà ŸÖÿ§ŸÜÿ´ ÿ¥ÿ∫ŸÑ‚ÄåŸáÿß",
                            table: {
                                headers: ["ŸÖÿ∞⁄©ÿ±", "ŸÖÿ§ŸÜÿ´", "ŸÅÿßÿ±ÿ≥€å"],
                                rows: [
                                    ["Lehrer", "Lehrerin", "ŸÖÿπŸÑŸÖ"],
                                    ["Arzt", "√Ñrztin", "Ÿæÿ≤ÿ¥⁄©"],
                                    ["Student", "Studentin", "ÿØÿßŸÜÿ¥ÿ¨Ÿà"],
                                    ["Journalist", "Journalistin", "ÿÆÿ®ÿ±ŸÜ⁄Øÿßÿ±"],
                                    ["Ingenieur", "Ingenieurin", "ŸÖŸáŸÜÿØÿ≥"],
                                    ["Kellner", "Kellnerin", "⁄Øÿßÿ±ÿ≥ŸàŸÜ"],
                                    ["Koch", "K√∂chin", "ÿ¢ÿ¥Ÿæÿ≤"],
                                    ["Verk√§ufer", "Verk√§uferin", "ŸÅÿ±Ÿàÿ¥ŸÜÿØŸá"]
                                ]
                            }
                        },
                        {
                            heading: "ŸÜ⁄©ÿ™Ÿá: ÿ®ÿØŸàŸÜ ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ",
                            text: "ŸàŸÇÿ™€å ÿ¥ÿ∫ŸÑ ÿÆŸàÿØ ÿ±ÿß ÿ®€åÿßŸÜ ŸÖ€å‚Äå⁄©ŸÜ€åÿØÿå ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ (ein/eine) ÿßÿ≥ÿ™ŸÅÿßÿØŸá ŸÜŸÖ€å‚Äåÿ¥ŸàÿØ.",
                            examples: [
                                { de: "Ich bin Arzt. (ŸÜŸá: Ich bin ein Arzt.)", fa: "ŸÖŸÜ Ÿæÿ≤ÿ¥⁄© Ÿáÿ≥ÿ™ŸÖ." },
                                { de: "Sie ist Lehrerin.", fa: "ÿßŸà ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." }
                            ]
                        }
                    ]
                },
                vocabulary: [
                    { word: "Beruf", article: "der", plural: "die Berufe", translation: "ÿ¥ÿ∫ŸÑÿå ÿ≠ÿ±ŸÅŸá", example: "Was ist dein Beruf?", exampleTranslation: "ÿ¥ÿ∫ŸÑÿ™ ⁄Ü€åŸáÿü" },
                    { word: "Arzt", article: "der", plural: "die √Ñrzte", translation: "Ÿæÿ≤ÿ¥⁄© (ŸÖÿ±ÿØ)", example: "Er ist Arzt.", exampleTranslation: "ÿßŸà Ÿæÿ≤ÿ¥⁄© ÿßÿ≥ÿ™." },
                    { word: "√Ñrztin", article: "die", plural: "die √Ñrztinnen", translation: "Ÿæÿ≤ÿ¥⁄© (ÿ≤ŸÜ)", example: "Sie ist √Ñrztin.", exampleTranslation: "ÿßŸà Ÿæÿ≤ÿ¥⁄© ÿßÿ≥ÿ™." },
                    { word: "Lehrer", article: "der", plural: "die Lehrer", translation: "ŸÖÿπŸÑŸÖ (ŸÖÿ±ÿØ)", example: "Mein Vater ist Lehrer.", exampleTranslation: "ŸæÿØÿ±ŸÖ ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." },
                    { word: "Lehrerin", article: "die", plural: "die Lehrerinnen", translation: "ŸÖÿπŸÑŸÖ (ÿ≤ŸÜ)", example: "Frau M√ºller ist Lehrerin.", exampleTranslation: "ÿÆÿßŸÜŸÖ ŸÖŸàŸÑÿ± ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." },
                    { word: "Student", article: "der", plural: "die Studenten", translation: "ÿØÿßŸÜÿ¥ÿ¨Ÿà (ŸÖÿ±ÿØ)", example: "Ich bin Student.", exampleTranslation: "ŸÖŸÜ ÿØÿßŸÜÿ¥ÿ¨Ÿà Ÿáÿ≥ÿ™ŸÖ." },
                    { word: "Studentin", article: "die", plural: "die Studentinnen", translation: "ÿØÿßŸÜÿ¥ÿ¨Ÿà (ÿ≤ŸÜ)", example: "Anna ist Studentin.", exampleTranslation: "ÿ¢ŸÜÿß ÿØÿßŸÜÿ¥ÿ¨Ÿà ÿßÿ≥ÿ™." },
                    { word: "Journalist", article: "der", plural: "die Journalisten", translation: "ÿÆÿ®ÿ±ŸÜ⁄Øÿßÿ± (ŸÖÿ±ÿØ)", example: "Er arbeitet als Journalist.", exampleTranslation: "ÿßŸà ÿ®Ÿá ÿπŸÜŸàÿßŸÜ ÿÆÿ®ÿ±ŸÜ⁄Øÿßÿ± ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "Ingenieur", article: "der", plural: "die Ingenieure", translation: "ŸÖŸáŸÜÿØÿ≥ (ŸÖÿ±ÿØ)", example: "Mehdi ist Ingenieur.", exampleTranslation: "ŸÖŸáÿØ€å ŸÖŸáŸÜÿØÿ≥ ÿßÿ≥ÿ™." },
                    { word: "Kellner", article: "der", plural: "die Kellner", translation: "⁄Øÿßÿ±ÿ≥ŸàŸÜ (ŸÖÿ±ÿØ)", example: "Der Kellner ist freundlich.", exampleTranslation: "⁄Øÿßÿ±ÿ≥ŸàŸÜ ŸÖŸáÿ±ÿ®ÿßŸÜ ÿßÿ≥ÿ™." },
                    { word: "Koch", article: "der", plural: "die K√∂che", translation: "ÿ¢ÿ¥Ÿæÿ≤ (ŸÖÿ±ÿØ)", example: "Er ist Koch in einem Restaurant.", exampleTranslation: "ÿßŸà ÿØÿ± €å⁄© ÿ±ÿ≥ÿ™Ÿàÿ±ÿßŸÜ ÿ¢ÿ¥Ÿæÿ≤ ÿßÿ≥ÿ™." },
                    { word: "Verk√§ufer", article: "der", plural: "die Verk√§ufer", translation: "ŸÅÿ±Ÿàÿ¥ŸÜÿØŸá (ŸÖÿ±ÿØ)", example: "Der Verk√§ufer hilft mir.", exampleTranslation: "ŸÅÿ±Ÿàÿ¥ŸÜÿØŸá ÿ®Ÿá ŸÖŸÜ ⁄©ŸÖ⁄© ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "arbeiten", article: "", plural: "", translation: "⁄©ÿßÿ± ⁄©ÿ±ÿØŸÜ", example: "Ich arbeite bei BMW.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ÿ®€å‚ÄåÿßŸÖ‚ÄåŸà ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "als", article: "", plural: "", translation: "ÿ®Ÿá ÿπŸÜŸàÿßŸÜ", example: "Sie arbeitet als √Ñrztin.", exampleTranslation: "ÿßŸà ÿ®Ÿá ÿπŸÜŸàÿßŸÜ Ÿæÿ≤ÿ¥⁄© ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "bei", article: "", plural: "", translation: "ŸÜÿ≤ÿØ / ÿØÿ± (ÿ¥ÿ±⁄©ÿ™)", example: "Ich arbeite bei Siemens.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ÿ≤€åŸÖŸÜÿ≥ ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "Krankenhaus", article: "das", plural: "die Krankenh√§user", translation: "ÿ®€åŸÖÿßÿ±ÿ≥ÿ™ÿßŸÜ", example: "Sie arbeitet im Krankenhaus.", exampleTranslation: "ÿßŸà ÿØÿ± ÿ®€åŸÖÿßÿ±ÿ≥ÿ™ÿßŸÜ ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "Schule", article: "die", plural: "die Schulen", translation: "ŸÖÿØÿ±ÿ≥Ÿá", example: "Er arbeitet in einer Schule.", exampleTranslation: "ÿßŸà ÿØÿ± €å⁄© ŸÖÿØÿ±ÿ≥Ÿá ⁄©ÿßÿ± ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "Universit√§t", article: "die", plural: "die Universit√§ten", translation: "ÿØÿßŸÜÿ¥⁄ØÿßŸá", example: "Ich studiere an der Universit√§t.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ÿØÿßŸÜÿ¥⁄ØÿßŸá ÿØÿ±ÿ≥ ŸÖ€å‚ÄåÿÆŸàÿßŸÜŸÖ." }
                ],
                exercises: [
                    { type: "multiple", question: "Was bist du von _____?", options: ["Beruf", "Arbeit", "Name", "Land"], correct: 0 },
                    { type: "multiple", question: "ÿ¥⁄©ŸÑ ŸÖÿ§ŸÜÿ´ Arzt ⁄Ü€åÿ≥ÿ™ÿü", options: ["Arztin", "√Ñrztin", "Arzte", "√Ñrzte"], correct: 1 },
                    { type: "multiple", question: "Ich _____ als Ingenieur.", options: ["arbeite", "arbeitest", "arbeitet", "arbeiten"], correct: 0 },
                    { type: "multiple", question: "Du _____ bei Siemens.", options: ["arbeite", "arbeitest", "arbeitet", "arbeiten"], correct: 1 },
                    { type: "fill", question: "Sie _____ Lehrerin. (sein)", answer: "ist" },
                    { type: "fill", question: "Wo _____ du? (arbeiten)", answer: "arbeitest" },
                    { type: "multiple", question: "ŸÖÿ§ŸÜÿ´ Koch:", options: ["Kochin", "K√∂chin", "Kocherin", "Koche"], correct: 1 },
                    { type: "multiple", question: "Ich bin Arzt. ⁄Üÿ±ÿß ein ŸÜÿØÿßÿ±€åŸÖÿü", options: ["⁄ÜŸàŸÜ ŸÅÿπŸÑ sein ŸÜÿØÿßÿ±ÿØ", "⁄ÜŸàŸÜ ÿ¥ÿ∫ŸÑ ÿ®ÿØŸàŸÜ ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ ŸÖ€å‚Äåÿ¢€åÿØ", "⁄ÜŸàŸÜ Arzt ŸÖÿ∞⁄©ÿ± ÿßÿ≥ÿ™", "⁄ÜŸàŸÜ ÿ¨ŸÖŸÑŸá ŸÖŸÜŸÅ€å ÿßÿ≥ÿ™"], correct: 1 },
                    { type: "fill", question: "Er arbeitet _____ einem Krankenhaus. (in/bei)", answer: "in" },
                    { type: "multiple", question: "Frau Schmidt ist _____.", options: ["Verk√§ufer", "Verk√§uferin", "Verkaufen", "Verk√§ufe"], correct: 1 }
                ]
            },

            // --- Lektion 3: Das ist mein Bruder ---
            {
                id: 3,
                title: "Das ist mein Bruder",
                subtitle: "ÿß€åŸÜ ÿ®ÿ±ÿßÿØÿ±ŸÖ ÿßÿ≥ÿ™ - ÿÆÿßŸÜŸàÿßÿØŸá",
                explanation: {
                    title: "ÿÆÿßŸÜŸàÿßÿØŸá Ÿà ÿ∂ŸÖÿß€åÿ± ŸÖŸÑ⁄©€å",
                    blocks: [
                        {
                            heading: "ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ≥",
                            text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ ÿßÿπÿ∂ÿß€å ÿÆÿßŸÜŸàÿßÿØŸá ÿ±ÿß ŸÖÿπÿ±ŸÅ€å ⁄©ŸÜ€åÿØÿå ÿßÿ≤ ÿ∂ŸÖÿß€åÿ± ŸÖŸÑ⁄©€å ÿßÿ≥ÿ™ŸÅÿßÿØŸá ⁄©ŸÜ€åÿØ Ÿà ÿØÿ±ÿ®ÿßÿ±Ÿá ÿÆÿßŸÜŸàÿßÿØŸá ÿµÿ≠ÿ®ÿ™ ⁄©ŸÜ€åÿØ."
                        },
                        {
                            heading: "ŸÖ⁄©ÿßŸÑŸÖŸá ŸÜŸÖŸàŸÜŸá",
                            dialog: [
                                { speaker: "Lisa", text: "Hast du Geschwister?" },
                                { speaker: "Tom", text: "Ja, ich habe einen Bruder und eine Schwester." },
                                { speaker: "Lisa", text: "Wie hei√üt dein Bruder?" },
                                { speaker: "Tom", text: "Mein Bruder hei√üt Max. Er ist 25 Jahre alt." },
                                { speaker: "Lisa", text: "Und deine Schwester?" },
                                { speaker: "Tom", text: "Meine Schwester hei√üt Julia. Sie ist Studentin." }
                            ]
                        }
                    ]
                },
                grammar: {
                    title: "ÿ∂ŸÖÿß€åÿ± ŸÖŸÑ⁄©€å mein/dein - ŸÅÿπŸÑ haben",
                    blocks: [
                        {
                            heading: "ÿµÿ±ŸÅ ŸÅÿπŸÑ haben (ÿØÿßÿ¥ÿ™ŸÜ)",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "haben", "ŸÖÿ´ÿßŸÑ"],
                                rows: [
                                    ["ich", "habe", "Ich habe einen Bruder."],
                                    ["du", "hast", "Hast du Kinder?"],
                                    ["er/sie/es", "hat", "Er hat eine Schwester."],
                                    ["wir", "haben", "Wir haben zwei Kinder."],
                                    ["ihr", "habt", "Habt ihr Geschwister?"],
                                    ["sie/Sie", "haben", "Sie haben drei S√∂hne."]
                                ]
                            }
                        },
                        {
                            heading: "ÿ∂ŸÖÿß€åÿ± ŸÖŸÑ⁄©€å (Possessivartikel)",
                            table: {
                                headers: ["ÿ∂ŸÖ€åÿ±", "ŸÖÿ∞⁄©ÿ±/ÿÆŸÜÿ´€å", "ŸÖÿ§ŸÜÿ´/ÿ¨ŸÖÿπ"],
                                rows: [
                                    ["ich", "mein", "meine"],
                                    ["du", "dein", "deine"],
                                    ["er/es", "sein", "seine"],
                                    ["sie", "ihr", "ihre"],
                                    ["wir", "unser", "unsere"],
                                    ["ihr", "euer", "eure"],
                                    ["sie/Sie", "ihr/Ihr", "ihre/Ihre"]
                                ]
                            }
                        },
                        {
                            heading: "ŸÖÿ´ÿßŸÑ‚ÄåŸáÿß",
                            examples: [
                                { de: "Das ist mein Bruder.", fa: "ÿß€åŸÜ ÿ®ÿ±ÿßÿØÿ±ŸÖ ÿßÿ≥ÿ™." },
                                { de: "Meine Mutter ist Lehrerin.", fa: "ŸÖÿßÿØÿ±ŸÖ ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." },
                                { de: "Sein Vater ist Arzt.", fa: "ŸæÿØÿ±ÿ¥ Ÿæÿ≤ÿ¥⁄© ÿßÿ≥ÿ™." },
                                { de: "Ihre Schwester wohnt in Berlin.", fa: "ÿÆŸàÿßŸáÿ±ÿ¥ ÿØÿ± ÿ®ÿ±ŸÑ€åŸÜ ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜÿØ." }
                            ]
                        }
                    ]
                },
                vocabulary: [
                    { word: "Familie", article: "die", plural: "die Familien", translation: "ÿÆÿßŸÜŸàÿßÿØŸá", example: "Meine Familie ist gro√ü.", exampleTranslation: "ÿÆÿßŸÜŸàÿßÿØŸá‚ÄåÿßŸÖ ÿ®ÿ≤ÿ±⁄Ø ÿßÿ≥ÿ™." },
                    { word: "Vater", article: "der", plural: "die V√§ter", translation: "ŸæÿØÿ±", example: "Mein Vater ist 50 Jahre alt.", exampleTranslation: "ŸæÿØÿ±ŸÖ €µ€∞ ÿ≥ÿßŸÑŸá ÿßÿ≥ÿ™." },
                    { word: "Mutter", article: "die", plural: "die M√ºtter", translation: "ŸÖÿßÿØÿ±", example: "Meine Mutter kocht gern.", exampleTranslation: "ŸÖÿßÿØÿ±ŸÖ ÿØŸàÿ≥ÿ™ ÿØÿßÿ±ÿØ ÿ¢ÿ¥Ÿæÿ≤€å ⁄©ŸÜÿØ." },
                    { word: "Bruder", article: "der", plural: "die Br√ºder", translation: "ÿ®ÿ±ÿßÿØÿ±", example: "Mein Bruder hei√üt Ali.", exampleTranslation: "ÿ®ÿ±ÿßÿØÿ±ŸÖ ÿßÿ≥ŸÖÿ¥ ÿπŸÑ€å ÿßÿ≥ÿ™." },
                    { word: "Schwester", article: "die", plural: "die Schwestern", translation: "ÿÆŸàÿßŸáÿ±", example: "Meine Schwester ist √Ñrztin.", exampleTranslation: "ÿÆŸàÿßŸáÿ±ŸÖ Ÿæÿ≤ÿ¥⁄© ÿßÿ≥ÿ™." },
                    { word: "Eltern", article: "die", plural: "(ŸÅŸÇÿ∑ ÿ¨ŸÖÿπ)", translation: "ŸàÿßŸÑÿØ€åŸÜ", example: "Meine Eltern wohnen in Teheran.", exampleTranslation: "ŸàÿßŸÑÿØ€åŸÜŸÖ ÿØÿ± ÿ™Ÿáÿ±ÿßŸÜ ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜŸÜÿØ." },
                    { word: "Kind", article: "das", plural: "die Kinder", translation: "ÿ®⁄ÜŸáÿå ŸÅÿ±ÿ≤ŸÜÿØ", example: "Sie hat zwei Kinder.", exampleTranslation: "ÿßŸà ÿØŸà ŸÅÿ±ÿ≤ŸÜÿØ ÿØÿßÿ±ÿØ." },
                    { word: "Sohn", article: "der", plural: "die S√∂hne", translation: "Ÿæÿ≥ÿ± (ŸÅÿ±ÿ≤ŸÜÿØ)", example: "Sein Sohn ist Student.", exampleTranslation: "Ÿæÿ≥ÿ±ÿ¥ ÿØÿßŸÜÿ¥ÿ¨Ÿà ÿßÿ≥ÿ™." },
                    { word: "Tochter", article: "die", plural: "die T√∂chter", translation: "ÿØÿÆÿ™ÿ± (ŸÅÿ±ÿ≤ŸÜÿØ)", example: "Ihre Tochter lernt Deutsch.", exampleTranslation: "ÿØÿÆÿ™ÿ±ÿ¥ ÿ¢ŸÑŸÖÿßŸÜ€å €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±ÿØ." },
                    { word: "Geschwister", article: "die", plural: "(ŸÅŸÇÿ∑ ÿ¨ŸÖÿπ)", translation: "ÿÆŸàÿßŸáÿ± Ÿà ÿ®ÿ±ÿßÿØÿ±Ÿáÿß", example: "Hast du Geschwister?", exampleTranslation: "ÿÆŸàÿßŸáÿ± Ÿà ÿ®ÿ±ÿßÿØÿ± ÿØÿßÿ±€åÿü" },
                    { word: "Gro√üvater", article: "der", plural: "die Gro√üv√§ter", translation: "ŸæÿØÿ±ÿ®ÿ≤ÿ±⁄Ø", example: "Mein Gro√üvater ist 80.", exampleTranslation: "ŸæÿØÿ±ÿ®ÿ≤ÿ±⁄ØŸÖ €∏€∞ ÿ≥ÿßŸÑŸá ÿßÿ≥ÿ™." },
                    { word: "Gro√ümutter", article: "die", plural: "die Gro√üm√ºtter", translation: "ŸÖÿßÿØÿ±ÿ®ÿ≤ÿ±⁄Ø", example: "Meine Gro√ümutter kocht sehr gut.", exampleTranslation: "ŸÖÿßÿØÿ±ÿ®ÿ≤ÿ±⁄ØŸÖ ÿÆ€åŸÑ€å ÿÆŸàÿ® ÿ¢ÿ¥Ÿæÿ≤€å ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "Onkel", article: "der", plural: "die Onkel", translation: "ÿπŸÖŸà / ÿØÿß€å€å", example: "Mein Onkel wohnt in Hamburg.", exampleTranslation: "ÿπŸÖŸà€åŸÖ ÿØÿ± ŸáÿßŸÖÿ®Ÿàÿ±⁄Ø ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                    { word: "Tante", article: "die", plural: "die Tanten", translation: "ÿπŸÖŸá / ÿÆÿßŸÑŸá", example: "Meine Tante ist Lehrerin.", exampleTranslation: "ÿÆÿßŸÑŸá‚ÄåÿßŸÖ ŸÖÿπŸÑŸÖ ÿßÿ≥ÿ™." },
                    { word: "verheiratet", article: "", plural: "", translation: "ŸÖÿ™ÿ£ŸáŸÑ", example: "Er ist verheiratet.", exampleTranslation: "ÿßŸà ŸÖÿ™ÿ£ŸáŸÑ ÿßÿ≥ÿ™." },
                    { word: "ledig", article: "", plural: "", translation: "ŸÖÿ¨ÿ±ÿØ", example: "Sie ist ledig.", exampleTranslation: "ÿßŸà ŸÖÿ¨ÿ±ÿØ ÿßÿ≥ÿ™." },
                    { word: "alt", article: "", plural: "", translation: "ÿ≥ŸÜ ÿØÿßÿ± / ŸÇÿØ€åŸÖ€å", example: "Wie alt bist du?", exampleTranslation: "⁄ÜŸÜÿØ ÿ≥ÿßŸÑÿ™Ÿáÿü" },
                    { word: "Jahr", article: "das", plural: "die Jahre", translation: "ÿ≥ÿßŸÑ", example: "Ich bin 25 Jahre alt.", exampleTranslation: "ŸÖŸÜ €≤€µ ÿ≥ÿßŸÑŸá Ÿáÿ≥ÿ™ŸÖ." }
                ],
                exercises: [
                    { type: "multiple", question: "Ich _____ zwei Br√ºder.", options: ["habe", "hast", "hat", "haben"], correct: 0 },
                    { type: "multiple", question: "_____ Schwester hei√üt Mina. (ŸÖŸÜ)", options: ["Mein", "Meine", "Meinen", "Meiner"], correct: 1 },
                    { type: "multiple", question: "Das ist _____ Bruder. (ÿßŸà - ŸÖÿ±ÿØ)", options: ["sein", "seine", "ihr", "ihre"], correct: 0 },
                    { type: "fill", question: "_____ du Kinder? (haben)", answer: "Hast" },
                    { type: "fill", question: "Mein Vater _____ 50 Jahre alt. (sein)", answer: "ist" },
                    { type: "multiple", question: "ÿ¨ŸÖÿπ Kind:", options: ["Kinds", "Kinder", "Kindern", "Kinde"], correct: 1 },
                    { type: "multiple", question: "Eltern €åÿπŸÜ€å:", options: ["ÿ®⁄ÜŸá‚ÄåŸáÿß", "ÿÆŸàÿßŸáÿ±Ÿáÿß", "ŸàÿßŸÑÿØ€åŸÜ", "ŸæÿØÿ±ÿ®ÿ≤ÿ±⁄Ø‚ÄåŸáÿß"], correct: 2 },
                    { type: "fill", question: "_____ Mutter ist √Ñrztin. (ÿßŸà - ÿ≤ŸÜ)", answer: "Ihre" },
                    { type: "multiple", question: "verheiratet €åÿπŸÜ€å:", options: ["ŸÖÿ¨ÿ±ÿØ", "ŸÖÿ™ÿ£ŸáŸÑ", "ÿ¨ŸàÿßŸÜ", "Ÿæ€åÿ±"], correct: 1 },
                    { type: "multiple", question: "Er _____ eine Tochter.", options: ["habe", "hast", "hat", "haben"], correct: 2 }
                ]
            },

            // --- Lektion 4-12 (continued with same detailed structure) ---
            {
                id: 4, title: "Der Tisch ist sch√∂n!", subtitle: "ŸÖ€åÿ≤ ŸÇÿ¥ŸÜ⁄ØŸá! - ÿßÿ¥€åÿßÿ° Ÿà ÿµŸÅÿßÿ™",
                explanation: { title: "ÿßÿ¥€åÿßÿ° Ÿà ÿ±ŸÜ⁄Ø‚ÄåŸáÿß", blocks: [
                    { heading: "ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ≥", text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ ÿ®ÿß ÿ≠ÿ±ŸÅ‚ÄåŸáÿß€å ÿ™ÿπÿ±€åŸÅ (der, die, das)ÿå ÿµŸÅÿ™‚ÄåŸáÿß Ÿà ÿ±ŸÜ⁄Ø‚ÄåŸáÿß ÿ¢ÿ¥ŸÜÿß ŸÖ€å‚Äåÿ¥Ÿà€åÿØ. €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ ÿßÿ¥€åÿßÿ° ÿ±ÿß ÿ™Ÿàÿµ€åŸÅ ⁄©ŸÜ€åÿØ." },
                    { heading: "ŸÖ⁄©ÿßŸÑŸÖŸá ŸÜŸÖŸàŸÜŸá", dialog: [
                        { speaker: "A", text: "Was ist das?" },
                        { speaker: "B", text: "Das ist ein Tisch." },
                        { speaker: "A", text: "Der Tisch ist sehr sch√∂n!" },
                        { speaker: "B", text: "Ja, und die Lampe ist auch sch√∂n." }
                    ]}
                ]},
                grammar: { title: "ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ ŸÖÿπ€åŸÜ Ÿà ŸÜÿßŸÖÿπ€åŸÜ - ÿ¨ŸÜÿ≥€åÿ™ ÿßÿ≥ŸÖ‚ÄåŸáÿß", blocks: [
                    { heading: "ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ ŸÖÿπ€åŸÜ (Bestimmter Artikel)", table: { headers: ["ÿ¨ŸÜÿ≥€åÿ™", "ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ", "ŸÖÿ´ÿßŸÑ"], rows: [
                        ["ŸÖÿ∞⁄©ÿ±", "der", "der Tisch (ŸÖ€åÿ≤)"],
                        ["ŸÖÿ§ŸÜÿ´", "die", "die Lampe (⁄Üÿ±ÿßÿ∫)"],
                        ["ÿÆŸÜÿ´€å", "das", "das Buch (⁄©ÿ™ÿßÿ®)"],
                        ["ÿ¨ŸÖÿπ", "die", "die B√ºcher (⁄©ÿ™ÿßÿ®‚ÄåŸáÿß)"]
                    ]}},
                    { heading: "ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ ŸÜÿßŸÖÿπ€åŸÜ (Unbestimmter Artikel)", table: { headers: ["ÿ¨ŸÜÿ≥€åÿ™", "ÿ≠ÿ±ŸÅ ÿ™ÿπÿ±€åŸÅ", "ŸÖÿ´ÿßŸÑ"], rows: [
                        ["ŸÖÿ∞⁄©ÿ±", "ein", "ein Tisch"],
                        ["ŸÖÿ§ŸÜÿ´", "eine", "eine Lampe"],
                        ["ÿÆŸÜÿ´€å", "ein", "ein Buch"]
                    ]}},
                    { heading: "ÿ≠ÿßŸÑÿ™ ŸÖŸÜŸÅ€å (Negativartikel kein)", table: { headers: ["ÿ¨ŸÜÿ≥€åÿ™", "kein", "ŸÖÿ´ÿßŸÑ"], rows: [
                        ["ŸÖÿ∞⁄©ÿ±", "kein", "Das ist kein Tisch."],
                        ["ŸÖÿ§ŸÜÿ´", "keine", "Das ist keine Lampe."],
                        ["ÿÆŸÜÿ´€å", "kein", "Das ist kein Buch."],
                        ["ÿ¨ŸÖÿπ", "keine", "Das sind keine B√ºcher."]
                    ]}}
                ]},
                vocabulary: [
                    { word: "Tisch", article: "der", plural: "die Tische", translation: "ŸÖ€åÿ≤", example: "Der Tisch ist gro√ü.", exampleTranslation: "ŸÖ€åÿ≤ ÿ®ÿ≤ÿ±⁄Ø ÿßÿ≥ÿ™." },
                    { word: "Stuhl", article: "der", plural: "die St√ºhle", translation: "ÿµŸÜÿØŸÑ€å", example: "Der Stuhl ist bequem.", exampleTranslation: "ÿµŸÜÿØŸÑ€å ÿ±ÿßÿ≠ÿ™ ÿßÿ≥ÿ™." },
                    { word: "Lampe", article: "die", plural: "die Lampen", translation: "⁄Üÿ±ÿßÿ∫", example: "Die Lampe ist sch√∂n.", exampleTranslation: "⁄Üÿ±ÿßÿ∫ ÿ≤€åÿ®ÿßÿ≥ÿ™." },
                    { word: "Buch", article: "das", plural: "die B√ºcher", translation: "⁄©ÿ™ÿßÿ®", example: "Das Buch ist interessant.", exampleTranslation: "⁄©ÿ™ÿßÿ® ÿ¨ÿßŸÑÿ® ÿßÿ≥ÿ™." },
                    { word: "Kugelschreiber", article: "der", plural: "die Kugelschreiber", translation: "ÿÆŸàÿØ⁄©ÿßÿ±", example: "Hast du einen Kugelschreiber?", exampleTranslation: "ÿÆŸàÿØ⁄©ÿßÿ± ÿØÿßÿ±€åÿü" },
                    { word: "Tasche", article: "die", plural: "die Taschen", translation: "⁄©€åŸÅ", example: "Meine Tasche ist schwarz.", exampleTranslation: "⁄©€åŸÅŸÖ ÿ≥€åÿßŸá ÿßÿ≥ÿ™." },
                    { word: "Handy", article: "das", plural: "die Handys", translation: "ŸÖŸàÿ®ÿß€åŸÑ", example: "Wo ist mein Handy?", exampleTranslation: "ŸÖŸàÿ®ÿß€åŸÑŸÖ ⁄©ÿ¨ÿßÿ≥ÿ™ÿü" },
                    { word: "Schl√ºssel", article: "der", plural: "die Schl√ºssel", translation: "⁄©ŸÑ€åÿØ", example: "Der Schl√ºssel ist hier.", exampleTranslation: "⁄©ŸÑ€åÿØ ÿß€åŸÜÿ¨ÿßÿ≥ÿ™." },
                    { word: "sch√∂n", article: "", plural: "", translation: "ÿ≤€åÿ®ÿßÿå ŸÇÿ¥ŸÜ⁄Ø", example: "Die Blume ist sch√∂n.", exampleTranslation: "⁄ØŸÑ ÿ≤€åÿ®ÿßÿ≥ÿ™." },
                    { word: "gro√ü", article: "", plural: "", translation: "ÿ®ÿ≤ÿ±⁄Ø", example: "Das Haus ist gro√ü.", exampleTranslation: "ÿÆÿßŸÜŸá ÿ®ÿ≤ÿ±⁄Ø ÿßÿ≥ÿ™." },
                    { word: "klein", article: "", plural: "", translation: "⁄©Ÿà⁄Ü⁄©", example: "Die Wohnung ist klein.", exampleTranslation: "ÿ¢Ÿæÿßÿ±ÿ™ŸÖÿßŸÜ ⁄©Ÿà⁄Ü⁄© ÿßÿ≥ÿ™." },
                    { word: "neu", article: "", plural: "", translation: "ŸÜŸàÿå ÿ¨ÿØ€åÿØ", example: "Das Auto ist neu.", exampleTranslation: "ŸÖÿßÿ¥€åŸÜ ŸÜŸà ÿßÿ≥ÿ™." },
                    { word: "rot", article: "", plural: "", translation: "ŸÇÿ±ŸÖÿ≤", example: "Die Tasche ist rot.", exampleTranslation: "⁄©€åŸÅ ŸÇÿ±ŸÖÿ≤ ÿßÿ≥ÿ™." },
                    { word: "blau", article: "", plural: "", translation: "ÿ¢ÿ®€å", example: "Der Kugelschreiber ist blau.", exampleTranslation: "ÿÆŸàÿØ⁄©ÿßÿ± ÿ¢ÿ®€å ÿßÿ≥ÿ™." },
                    { word: "schwarz", article: "", plural: "", translation: "ÿ≥€åÿßŸá", example: "Das Handy ist schwarz.", exampleTranslation: "ŸÖŸàÿ®ÿß€åŸÑ ÿ≥€åÿßŸá ÿßÿ≥ÿ™." },
                    { word: "wei√ü", article: "", plural: "", translation: "ÿ≥ŸÅ€åÿØ", example: "Der Tisch ist wei√ü.", exampleTranslation: "ŸÖ€åÿ≤ ÿ≥ŸÅ€åÿØ ÿßÿ≥ÿ™." }
                ],
                exercises: [
                    { type: "multiple", question: "_____ Tisch ist gro√ü.", options: ["Der", "Die", "Das", "Ein"], correct: 0 },
                    { type: "multiple", question: "Das ist _____ Lampe.", options: ["ein", "eine", "einen", "einer"], correct: 1 },
                    { type: "multiple", question: "Das ist _____ Buch. (ŸÖŸÜŸÅ€å)", options: ["nicht", "kein", "keine", "keinen"], correct: 1 },
                    { type: "fill", question: "_____ Stuhl ist bequem. (the)", answer: "Der" },
                    { type: "fill", question: "Meine Tasche ist _____. (ÿ≥€åÿßŸá)", answer: "schwarz" },
                    { type: "multiple", question: "ÿ¨ŸÜÿ≥€åÿ™ Lampe:", options: ["der", "die", "das", "ein"], correct: 1 },
                    { type: "multiple", question: "ÿ¨ŸÖÿπ Buch:", options: ["Buchs", "Buche", "B√ºcher", "B√ºche"], correct: 2 },
                    { type: "multiple", question: "_____ Handy ist neu.", options: ["Der", "Die", "Das", "Eine"], correct: 2 }
                ]
            },

            {
                id: 5, title: "Was ist das? ‚Äì Das ist ein F.", subtitle: "ÿß€åŸÜ ⁄Ü€åŸáÿü - ÿßÿπÿØÿßÿØ Ÿà Ÿáÿ¨€å ⁄©ÿ±ÿØŸÜ",
                explanation: { title: "ÿßÿπÿØÿßÿØ €± ÿ™ÿß €±€∞€∞ Ÿà ÿßŸÑŸÅÿ®ÿß", blocks: [
                    { heading: "ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ≥", text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ ÿßÿπÿØÿßÿØ ÿ¢ŸÑŸÖÿßŸÜ€åÿå ÿßŸÑŸÅÿ®ÿß Ÿà Ÿáÿ¨€å ⁄©ÿ±ÿØŸÜ (buchstabieren) ÿ±ÿß €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ." }
                ]},
                grammar: { title: "ÿßÿπÿØÿßÿØ Ÿà ÿßŸÑŸÅÿ®ÿß€å ÿ¢ŸÑŸÖÿßŸÜ€å", blocks: [
                    { heading: "ÿßÿπÿØÿßÿØ €∞ ÿ™ÿß €≤€∞", table: { headers: ["ÿπÿØÿØ", "ÿ¢ŸÑŸÖÿßŸÜ€å", "ÿπÿØÿØ", "ÿ¢ŸÑŸÖÿßŸÜ€å"], rows: [
                        ["0", "null", "11", "elf"],
                        ["1", "eins", "12", "zw√∂lf"],
                        ["2", "zwei", "13", "dreizehn"],
                        ["3", "drei", "14", "vierzehn"],
                        ["4", "vier", "15", "f√ºnfzehn"],
                        ["5", "f√ºnf", "16", "sechzehn"],
                        ["6", "sechs", "17", "siebzehn"],
                        ["7", "sieben", "18", "achtzehn"],
                        ["8", "acht", "19", "neunzehn"],
                        ["9", "neun", "20", "zwanzig"],
                        ["10", "zehn", "", ""]
                    ]}},
                    { heading: "ÿßÿπÿØÿßÿØ €≤€± ÿ™ÿß €±€∞€∞", text: "ÿØÿ± ÿ¢ŸÑŸÖÿßŸÜ€å ÿßÿπÿØÿßÿØ ÿ®ÿßŸÑÿß€å €≤€∞ ÿ®ÿ±ÿπ⁄©ÿ≥ ŸÅÿßÿ±ÿ≥€å ⁄ØŸÅÿ™Ÿá ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ: ÿßÿ®ÿ™ÿØÿß €å⁄©ÿßŸÜ ÿ®ÿπÿØ ÿØŸá⁄ØÿßŸÜ. ŸÖÿ´ŸÑÿßŸã €≤€± = einundzwanzig (€å⁄© Ÿà ÿ®€åÿ≥ÿ™).",
                      examples: [
                        { de: "21 = einundzwanzig", fa: "ÿ®€åÿ≥ÿ™ Ÿà €å⁄©" },
                        { de: "35 = f√ºnfunddrei√üig", fa: "ÿ≥€å Ÿà ŸæŸÜÿ¨" },
                        { de: "99 = neunundneunzig", fa: "ŸÜŸàÿØ Ÿà ŸÜŸá" }
                    ]}
                ]},
                vocabulary: [
                    { word: "Zahl", article: "die", plural: "die Zahlen", translation: "ÿπÿØÿØ", example: "Welche Zahl ist das?", exampleTranslation: "ÿß€åŸÜ ⁄ÜŸá ÿπÿØÿØ€å ÿßÿ≥ÿ™ÿü" },
                    { word: "Telefonnummer", article: "die", plural: "die Telefonnummern", translation: "ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜ", example: "Wie ist deine Telefonnummer?", exampleTranslation: "ÿ¥ŸÖÿßÿ±Ÿá ÿ™ŸÑŸÅŸÜÿ™ ⁄ÜŸÜÿØŸáÿü" },
                    { word: "Adresse", article: "die", plural: "die Adressen", translation: "ÿ¢ÿØÿ±ÿ≥", example: "Wie ist deine Adresse?", exampleTranslation: "ÿ¢ÿØÿ±ÿ≥ÿ™ ⁄Ü€åŸáÿü" },
                    { word: "Stra√üe", article: "die", plural: "die Stra√üen", translation: "ÿÆ€åÿßÿ®ÿßŸÜ", example: "Ich wohne in der Mozartstra√üe.", exampleTranslation: "ŸÖŸÜ ÿØÿ± ÿÆ€åÿßÿ®ÿßŸÜ ŸÖŸàÿ™ÿ≤ÿßÿ±ÿ™ ÿ≤ŸÜÿØ⁄Ø€å ŸÖ€å‚Äå⁄©ŸÜŸÖ." },
                    { word: "Hausnummer", article: "die", plural: "die Hausnummern", translation: "ÿ¥ŸÖÿßÿ±Ÿá ÿÆÿßŸÜŸá / ŸæŸÑÿß⁄©", example: "Die Hausnummer ist 12.", exampleTranslation: "ÿ¥ŸÖÿßÿ±Ÿá ÿÆÿßŸÜŸá €±€≤ ÿßÿ≥ÿ™." },
                    { word: "buchstabieren", article: "", plural: "", translation: "Ÿáÿ¨€å ⁄©ÿ±ÿØŸÜ", example: "K√∂nnen Sie Ihren Namen buchstabieren?", exampleTranslation: "ŸÖ€å‚Äåÿ™ŸàÿßŸÜ€åÿØ ÿßÿ≥ŸÖÿ™ÿßŸÜ ÿ±ÿß Ÿáÿ¨€å ⁄©ŸÜ€åÿØÿü" },
                    { word: "Postleitzahl", article: "die", plural: "die Postleitzahlen", translation: "⁄©ÿØ Ÿæÿ≥ÿ™€å", example: "Die Postleitzahl ist 80331.", exampleTranslation: "⁄©ÿØ Ÿæÿ≥ÿ™€å €∏€∞€≥€≥€± ÿßÿ≥ÿ™." },
                    { word: "E-Mail", article: "die", plural: "die E-Mails", translation: "ÿß€åŸÖ€åŸÑ", example: "Wie ist deine E-Mail-Adresse?", exampleTranslation: "ÿß€åŸÖ€åŸÑÿ™ ⁄Ü€åŸáÿü" }
                ],
                exercises: [
                    { type: "multiple", question: "zw√∂lf = ?", options: ["10", "11", "12", "13"], correct: 2 },
                    { type: "multiple", question: "einunddrei√üig = ?", options: ["13", "30", "31", "21"], correct: 2 },
                    { type: "fill", question: "45 ÿ®Ÿá ÿ¢ŸÑŸÖÿßŸÜ€å:", answer: "f√ºnfundvierzig" },
                    { type: "multiple", question: "Wie ist deine _____?", options: ["Name", "Telefonnummer", "Beruf", "Land"], correct: 1 },
                    { type: "fill", question: "78 ÿ®Ÿá ÿ¢ŸÑŸÖÿßŸÜ€å:", answer: "achtundsiebzig" }
                ]
            },

            { id: 6, title: "Ich brauche kein Auto", subtitle: "ŸÖŸÜ ŸÖÿßÿ¥€åŸÜ ŸÜ€åÿßÿ≤ ŸÜÿØÿßÿ±ŸÖ", explanation: { title: "ŸÜ€åÿßÿ≤Ÿáÿß Ÿà ÿÆÿ±€åÿØ", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿ®€åÿßŸÜ ŸÜ€åÿßÿ≤Ÿáÿß ÿ®ÿß brauchen Ÿà ÿ≠ÿßŸÑÿ™ Akkusativ." }] }, grammar: { title: "Akkusativ Ÿà ŸÅÿπŸÑ brauchen", blocks: [{ heading: "ÿ≠ÿßŸÑÿ™ ŸÖŸÅÿπŸàŸÑ€å (Akkusativ)", table: { headers: ["", "ŸÖÿ∞⁄©ÿ±", "ŸÖÿ§ŸÜÿ´", "ÿÆŸÜÿ´€å"], rows: [["ŸÖÿπ€åŸÜ", "den", "die", "das"], ["ŸÜÿßŸÖÿπ€åŸÜ", "einen", "eine", "ein"], ["ŸÖŸÜŸÅ€å", "keinen", "keine", "kein"]] } }] }, vocabulary: [
                { word: "Auto", article: "das", plural: "die Autos", translation: "ŸÖÿßÿ¥€åŸÜ", example: "Ich brauche kein Auto.", exampleTranslation: "ŸÖŸÜ ŸÖÿßÿ¥€åŸÜ ŸÜ€åÿßÿ≤ ŸÜÿØÿßÿ±ŸÖ." },
                { word: "Fahrrad", article: "das", plural: "die Fahrr√§der", translation: "ÿØŸà⁄Üÿ±ÿÆŸá", example: "Er f√§hrt Fahrrad.", exampleTranslation: "ÿßŸà ÿØŸà⁄Üÿ±ÿÆŸá‚Äåÿ≥Ÿàÿßÿ±€å ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                { word: "Computer", article: "der", plural: "die Computer", translation: "⁄©ÿßŸÖŸæ€åŸàÿ™ÿ±", example: "Ich brauche einen Computer.", exampleTranslation: "ŸÖŸÜ €å⁄© ⁄©ÿßŸÖŸæ€åŸàÿ™ÿ± ŸÜ€åÿßÿ≤ ÿØÿßÿ±ŸÖ." },
                { word: "Fernseher", article: "der", plural: "die Fernseher", translation: "ÿ™ŸÑŸà€åÿ≤€åŸàŸÜ", example: "Der Fernseher ist neu.", exampleTranslation: "ÿ™ŸÑŸà€åÿ≤€åŸàŸÜ ŸÜŸà ÿßÿ≥ÿ™." },
                { word: "brauchen", article: "", plural: "", translation: "ŸÜ€åÿßÿ≤ ÿØÿßÿ¥ÿ™ŸÜ", example: "Was brauchst du?", exampleTranslation: "⁄Ü€å ŸÜ€åÿßÿ≤ ÿØÿßÿ±€åÿü" },
                { word: "kaufen", article: "", plural: "", translation: "ÿÆÿ±€åÿØŸÜ", example: "Ich kaufe ein Buch.", exampleTranslation: "ŸÖŸÜ €å⁄© ⁄©ÿ™ÿßÿ® ŸÖ€å‚ÄåÿÆÿ±ŸÖ." },
                { word: "billig", article: "", plural: "", translation: "ÿßÿ±ÿ≤ÿßŸÜ", example: "Das Auto ist billig.", exampleTranslation: "ŸÖÿßÿ¥€åŸÜ ÿßÿ±ÿ≤ÿßŸÜ ÿßÿ≥ÿ™." },
                { word: "teuer", article: "", plural: "", translation: "⁄Øÿ±ÿßŸÜ", example: "Der Computer ist teuer.", exampleTranslation: "⁄©ÿßŸÖŸæ€åŸàÿ™ÿ± ⁄Øÿ±ÿßŸÜ ÿßÿ≥ÿ™." }
            ], exercises: [
                { type: "multiple", question: "Ich brauche _____ Auto.", options: ["ein", "eine", "einen", "einer"], correct: 0 },
                { type: "multiple", question: "Er kauft _____ Tisch.", options: ["ein", "eine", "einen", "einer"], correct: 2 },
                { type: "fill", question: "Ich brauche _____ Computer. (kein - ŸÖÿ∞⁄©ÿ± Akk.)", answer: "keinen" }
            ]},

            { id: 7, title: "Du kannst wirklich toll...!", subtitle: "ÿ™Ÿà ŸàÿßŸÇÿπÿßŸã ÿπÿßŸÑ€å ŸÖ€åÿ™ŸàŸÜ€å...!", explanation: { title: "ÿ™ŸàÿßŸÜÿß€å€å‚ÄåŸáÿß Ÿà ŸÅÿπŸÑ k√∂nnen", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿ®€åÿßŸÜ ÿ™ŸàÿßŸÜÿß€å€å‚ÄåŸáÿßÿå ÿ≥ÿ±⁄Øÿ±ŸÖ€å‚ÄåŸáÿß Ÿà ŸÅÿπŸÑ‚ÄåŸáÿß€å ŸÖŸàÿØÿßŸÑ." }] }, grammar: { title: "ŸÅÿπŸÑ ŸÖŸàÿØÿßŸÑ k√∂nnen", blocks: [{ heading: "ÿµÿ±ŸÅ k√∂nnen", table: { headers: ["ÿ∂ŸÖ€åÿ±", "k√∂nnen"], rows: [["ich", "kann"], ["du", "kannst"], ["er/sie/es", "kann"], ["wir", "k√∂nnen"], ["ihr", "k√∂nnt"], ["sie/Sie", "k√∂nnen"]] } }, { heading: "ÿ≥ÿßÿÆÿ™ÿßÿ± ÿ¨ŸÖŸÑŸá ÿ®ÿß ŸÅÿπŸÑ ŸÖŸàÿØÿßŸÑ", text: "ŸÅÿπŸÑ ŸÖŸàÿØÿßŸÑ ÿØÿ± ÿ¨ÿß€å⁄ØÿßŸá ÿØŸàŸÖ Ÿà ŸÅÿπŸÑ ÿßÿµŸÑ€å ÿØÿ± ÿ¢ÿÆÿ± ÿ¨ŸÖŸÑŸá (Infinitiv) ŸÇÿ±ÿßÿ± ŸÖ€å‚Äå⁄Ø€åÿ±ÿØ.", examples: [{ de: "Ich kann gut schwimmen.", fa: "ŸÖŸÜ ÿÆŸàÿ® ÿ¥ŸÜÿß ÿ®ŸÑÿØŸÖ." }, { de: "Kannst du kochen?", fa: "ÿ¢ÿ¥Ÿæÿ≤€å ÿ®ŸÑÿØ€åÿü" }] }] }, vocabulary: [
                { word: "k√∂nnen", article: "", plural: "", translation: "ÿ™ŸàÿßŸÜÿ≥ÿ™ŸÜ", example: "Ich kann Deutsch sprechen.", exampleTranslation: "ŸÖŸÜ ŸÖ€å‚Äåÿ™ŸàÿßŸÜŸÖ ÿ¢ŸÑŸÖÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ⁄©ŸÜŸÖ." },
                { word: "schwimmen", article: "", plural: "", translation: "ÿ¥ŸÜÿß ⁄©ÿ±ÿØŸÜ", example: "Sie kann gut schwimmen.", exampleTranslation: "ÿßŸà ÿÆŸàÿ® ÿ¥ŸÜÿß ÿ®ŸÑÿØŸá." },
                { word: "kochen", article: "", plural: "", translation: "ÿ¢ÿ¥Ÿæÿ≤€å ⁄©ÿ±ÿØŸÜ", example: "Kannst du kochen?", exampleTranslation: "ÿ¢ÿ¥Ÿæÿ≤€å ÿ®ŸÑÿØ€åÿü" },
                { word: "singen", article: "", plural: "", translation: "ÿ¢Ÿàÿßÿ≤ ÿÆŸàÿßŸÜÿØŸÜ", example: "Er kann toll singen.", exampleTranslation: "ÿßŸà ÿπÿßŸÑ€å ÿ¢Ÿàÿßÿ≤ ŸÖ€å‚ÄåÿÆŸàÿßŸÜÿØ." },
                { word: "tanzen", article: "", plural: "", translation: "ÿ±ŸÇÿµ€åÿØŸÜ", example: "Wir k√∂nnen tanzen.", exampleTranslation: "ŸÖÿß ÿ±ŸÇÿµ€åÿØŸÜ ÿ®ŸÑÿØ€åŸÖ." },
                { word: "spielen", article: "", plural: "", translation: "ÿ®ÿßÿ≤€å ⁄©ÿ±ÿØŸÜ", example: "Die Kinder spielen im Garten.", exampleTranslation: "ÿ®⁄ÜŸá‚ÄåŸáÿß ÿØÿ± ÿ®ÿßÿ∫ ÿ®ÿßÿ≤€å ŸÖ€å‚Äå⁄©ŸÜŸÜÿØ." },
                { word: "gut", article: "", plural: "", translation: "ÿÆŸàÿ®", example: "Er spricht gut Deutsch.", exampleTranslation: "ÿßŸà ÿÆŸàÿ® ÿ¢ŸÑŸÖÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ŸÖ€å‚Äå⁄©ŸÜÿØ." },
                { word: "toll", article: "", plural: "", translation: "ÿπÿßŸÑ€å", example: "Das ist toll!", exampleTranslation: "ÿπÿßŸÑ€åŸá!" },
                { word: "wirklich", article: "", plural: "", translation: "ŸàÿßŸÇÿπÿßŸã", example: "Du bist wirklich nett.", exampleTranslation: "ÿ™Ÿà ŸàÿßŸÇÿπÿßŸã ŸÖŸáÿ±ÿ®ÿßŸÜ€å." }
            ], exercises: [
                { type: "multiple", question: "Ich _____ gut kochen.", options: ["kann", "kannst", "k√∂nnen", "k√∂nnt"], correct: 0 },
                { type: "multiple", question: "_____ du schwimmen?", options: ["Kann", "Kannst", "K√∂nnen", "K√∂nnt"], correct: 1 },
                { type: "fill", question: "Sie _____ toll singen. (k√∂nnen)", answer: "kann" }
            ]},

            { id: 8, title: "Kein Problem. Ich habe Zeit!", subtitle: "ŸÖÿ¥⁄©ŸÑ€å ŸÜ€åÿ≥ÿ™. ŸÖŸÜ ŸàŸÇÿ™ ÿØÿßÿ±ŸÖ!", explanation: { title: "ÿ≤ŸÖÿßŸÜ Ÿà ÿ≥ÿßÿπÿ™", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿØÿ± ÿß€åŸÜ ÿØÿ±ÿ≥ ÿ≥ÿßÿπÿ™ Ÿæÿ±ÿ≥€åÿØŸÜÿå ÿ±Ÿàÿ≤Ÿáÿß€å ŸáŸÅÿ™Ÿá Ÿà ŸÇÿ±ÿßÿ± ⁄Øÿ∞ÿßÿ¥ÿ™ŸÜ ÿ±ÿß €åÿßÿØ ŸÖ€å‚Äå⁄Ø€åÿ±€åÿØ." }] }, grammar: { title: "ÿ≥ÿßÿπÿ™ Ÿà ÿ±Ÿàÿ≤Ÿáÿß€å ŸáŸÅÿ™Ÿá", blocks: [{ heading: "ÿ≥ÿßÿπÿ™ Ÿæÿ±ÿ≥€åÿØŸÜ", examples: [{ de: "Wie sp√§t ist es?", fa: "ÿ≥ÿßÿπÿ™ ⁄ÜŸÜÿØŸáÿü" }, { de: "Es ist drei Uhr.", fa: "ÿ≥ÿßÿπÿ™ ÿ≥Ÿá ÿßÿ≥ÿ™." }, { de: "Um wie viel Uhr?", fa: "ÿ≥ÿßÿπÿ™ ⁄ÜŸÜÿØÿü" }] }, { heading: "ÿ±Ÿàÿ≤Ÿáÿß€å ŸáŸÅÿ™Ÿá", table: { headers: ["ÿ¢ŸÑŸÖÿßŸÜ€å", "ŸÅÿßÿ±ÿ≥€å"], rows: [["Montag", "ÿØŸàÿ¥ŸÜÿ®Ÿá"], ["Dienstag", "ÿ≥Ÿá‚Äåÿ¥ŸÜÿ®Ÿá"], ["Mittwoch", "⁄ÜŸáÿßÿ±ÿ¥ŸÜÿ®Ÿá"], ["Donnerstag", "ŸæŸÜÿ¨ÿ¥ŸÜÿ®Ÿá"], ["Freitag", "ÿ¨ŸÖÿπŸá"], ["Samstag", "ÿ¥ŸÜÿ®Ÿá"], ["Sonntag", "€å⁄©ÿ¥ŸÜÿ®Ÿá"]] } }] }, vocabulary: [
                { word: "Zeit", article: "die", plural: "die Zeiten", translation: "ŸàŸÇÿ™ÿå ÿ≤ŸÖÿßŸÜ", example: "Ich habe keine Zeit.", exampleTranslation: "ŸÖŸÜ ŸàŸÇÿ™ ŸÜÿØÿßÿ±ŸÖ." },
                { word: "Uhr", article: "die", plural: "die Uhren", translation: "ÿ≥ÿßÿπÿ™", example: "Es ist 10 Uhr.", exampleTranslation: "ÿ≥ÿßÿπÿ™ €±€∞ ÿßÿ≥ÿ™." },
                { word: "Termin", article: "der", plural: "die Termine", translation: "ŸÇÿ±ÿßÿ± ŸÖŸÑÿßŸÇÿßÿ™", example: "Ich habe einen Termin.", exampleTranslation: "ŸÖŸÜ €å⁄© ŸÇÿ±ÿßÿ± ÿØÿßÿ±ŸÖ." },
                { word: "heute", article: "", plural: "", translation: "ÿßŸÖÿ±Ÿàÿ≤", example: "Heute ist Montag.", exampleTranslation: "ÿßŸÖÿ±Ÿàÿ≤ ÿØŸàÿ¥ŸÜÿ®Ÿá ÿßÿ≥ÿ™." },
                { word: "morgen", article: "", plural: "", translation: "ŸÅÿ±ÿØÿß", example: "Bis morgen!", exampleTranslation: "ÿ™ÿß ŸÅÿ±ÿØÿß!" },
                { word: "Problem", article: "das", plural: "die Probleme", translation: "ŸÖÿ¥⁄©ŸÑ", example: "Kein Problem!", exampleTranslation: "ŸÖÿ¥⁄©ŸÑ€å ŸÜ€åÿ≥ÿ™!" },
                { word: "Woche", article: "die", plural: "die Wochen", translation: "ŸáŸÅÿ™Ÿá", example: "Eine Woche hat sieben Tage.", exampleTranslation: "€å⁄© ŸáŸÅÿ™Ÿá ŸáŸÅÿ™ ÿ±Ÿàÿ≤ ÿØÿßÿ±ÿØ." }
            ], exercises: [
                { type: "multiple", question: "Wie _____ ist es?", options: ["viel", "sp√§t", "alt", "gro√ü"], correct: 1 },
                { type: "fill", question: "Es ist f√ºnf _____.", answer: "Uhr" },
                { type: "multiple", question: "Mittwoch €åÿπŸÜ€å:", options: ["ÿØŸàÿ¥ŸÜÿ®Ÿá", "ÿ≥Ÿá‚Äåÿ¥ŸÜÿ®Ÿá", "⁄ÜŸáÿßÿ±ÿ¥ŸÜÿ®Ÿá", "ŸæŸÜÿ¨ÿ¥ŸÜÿ®Ÿá"], correct: 2 }
            ]},

            { id: 9, title: "Ich m√∂chte ...", subtitle: "ŸÖŸÜ ŸÖ€å‚ÄåÿÆŸàÿßŸáŸÖ...", explanation: { title: "ÿ≥ŸÅÿßÿ±ÿ¥ ÿØÿßÿØŸÜ Ÿà m√∂chten", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿ≥ŸÅÿßÿ±ÿ¥ ÿ∫ÿ∞ÿß Ÿà ŸÜŸàÿ¥€åÿØŸÜ€åÿå ŸÅÿπŸÑ m√∂chten." }] }, grammar: { title: "ŸÅÿπŸÑ m√∂chten", blocks: [{ heading: "ÿµÿ±ŸÅ m√∂chten", table: { headers: ["ÿ∂ŸÖ€åÿ±", "m√∂chten"], rows: [["ich", "m√∂chte"], ["du", "m√∂chtest"], ["er/sie/es", "m√∂chte"], ["wir", "m√∂chten"], ["ihr", "m√∂chtet"], ["sie/Sie", "m√∂chten"]] } }] }, vocabulary: [
                { word: "m√∂chten", article: "", plural: "", translation: "ÿÆŸàÿßÿ≥ÿ™ŸÜ (ŸÖÿ§ÿØÿ®ÿßŸÜŸá)", example: "Ich m√∂chte einen Kaffee.", exampleTranslation: "ŸÖŸÜ €å⁄© ŸÇŸáŸàŸá ŸÖ€å‚ÄåÿÆŸàÿßŸáŸÖ." },
                { word: "Kaffee", article: "der", plural: "", translation: "ŸÇŸáŸàŸá", example: "M√∂chtest du Kaffee?", exampleTranslation: "ŸÇŸáŸàŸá ŸÖ€å‚ÄåÿÆŸàÿßŸá€åÿü" },
                { word: "Tee", article: "der", plural: "", translation: "⁄Üÿß€å", example: "Ich trinke gern Tee.", exampleTranslation: "ŸÖŸÜ ÿ®ÿß ŸÑÿ∞ÿ™ ⁄Üÿß€å ŸÖ€å‚ÄåŸÜŸàÿ¥ŸÖ." },
                { word: "Wasser", article: "das", plural: "", translation: "ÿ¢ÿ®", example: "Ein Glas Wasser, bitte.", exampleTranslation: "€å⁄© ŸÑ€åŸàÿßŸÜ ÿ¢ÿ®ÿå ŸÑÿ∑ŸÅÿßŸã." },
                { word: "Brot", article: "das", plural: "die Brote", translation: "ŸÜÿßŸÜ", example: "Ich kaufe Brot.", exampleTranslation: "ŸÖŸÜ ŸÜÿßŸÜ ŸÖ€å‚ÄåÿÆÿ±ŸÖ." },
                { word: "Kuchen", article: "der", plural: "die Kuchen", translation: "⁄©€å⁄©", example: "Der Kuchen ist lecker.", exampleTranslation: "⁄©€å⁄© ÿÆŸàÿ¥ŸÖÿ≤Ÿá ÿßÿ≥ÿ™." },
                { word: "essen", article: "", plural: "", translation: "ÿÆŸàÿ±ÿØŸÜ", example: "Was m√∂chtest du essen?", exampleTranslation: "⁄Ü€å ŸÖ€å‚ÄåÿÆŸàÿßŸá€å ÿ®ÿÆŸàÿ±€åÿü" },
                { word: "trinken", article: "", plural: "", translation: "ŸÜŸàÿ¥€åÿØŸÜ", example: "Ich trinke Wasser.", exampleTranslation: "ŸÖŸÜ ÿ¢ÿ® ŸÖ€å‚ÄåŸÜŸàÿ¥ŸÖ." },
                { word: "bitte", article: "", plural: "", translation: "ŸÑÿ∑ŸÅÿßŸã", example: "Einen Kaffee, bitte.", exampleTranslation: "€å⁄© ŸÇŸáŸàŸáÿå ŸÑÿ∑ŸÅÿßŸã." },
                { word: "danke", article: "", plural: "", translation: "ŸÖŸÖŸÜŸàŸÜ", example: "Danke sch√∂n!", exampleTranslation: "ÿÆ€åŸÑ€å ŸÖŸÖŸÜŸàŸÜ!" }
            ], exercises: [
                { type: "multiple", question: "Ich _____ einen Tee.", options: ["m√∂chte", "m√∂chtest", "m√∂chten", "m√∂chtet"], correct: 0 },
                { type: "fill", question: "_____ du Kaffee? (m√∂chten)", answer: "M√∂chtest" },
                { type: "multiple", question: "bitte €åÿπŸÜ€å:", options: ["ŸÖŸÖŸÜŸàŸÜ", "ŸÑÿ∑ŸÅÿßŸã", "ÿ≥ŸÑÿßŸÖ", "ÿÆÿØÿßÿ≠ÿßŸÅÿ∏"], correct: 1 }
            ]},

            { id: 10, title: "Ich steige jetzt aus", subtitle: "ÿßŸÑÿßŸÜ Ÿæ€åÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸÖ", explanation: { title: "ÿ≠ŸÖŸÑ Ÿà ŸÜŸÇŸÑ Ÿà ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ¨ÿØÿßÿ¥ÿØŸÜ€å", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ¨ÿØÿßÿ¥ÿØŸÜ€å Ÿà ÿ≠ŸÖŸÑ‚ÄåŸàŸÜŸÇŸÑ ÿ¥Ÿáÿ±€å." }] }, grammar: { title: "ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ¨ÿØÿßÿ¥ÿØŸÜ€å (Trennbare Verben)", blocks: [{ heading: "ÿ≥ÿßÿÆÿ™ÿßÿ±", text: "ÿØÿ± ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ¨ÿØÿßÿ¥ÿØŸÜ€åÿå Ÿæ€åÿ¥ŸàŸÜÿØ ÿßÿ≤ ŸÅÿπŸÑ ÿ¨ÿØÿß ÿ¥ÿØŸá Ÿà ÿ®Ÿá ÿ¢ÿÆÿ± ÿ¨ŸÖŸÑŸá ŸÖ€å‚Äåÿ±ŸàÿØ.", examples: [{ de: "Ich steige um. (umsteigen)", fa: "ŸÖŸÜ ÿπŸàÿ∂ ŸÖ€å‚Äå⁄©ŸÜŸÖ (Ÿàÿ≥€åŸÑŸá ŸÜŸÇŸÑ€åŸá)." }, { de: "Er steigt aus. (aussteigen)", fa: "ÿßŸà Ÿæ€åÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàÿØ." }, { de: "Wir steigen ein. (einsteigen)", fa: "ŸÖÿß ÿ≥Ÿàÿßÿ± ŸÖ€å‚Äåÿ¥Ÿà€åŸÖ." }] }] }, vocabulary: [
                { word: "aussteigen", article: "", plural: "", translation: "Ÿæ€åÿßÿØŸá ÿ¥ÿØŸÜ", example: "Ich steige jetzt aus.", exampleTranslation: "ÿßŸÑÿßŸÜ Ÿæ€åÿßÿØŸá ŸÖ€å‚Äåÿ¥ŸàŸÖ." },
                { word: "einsteigen", article: "", plural: "", translation: "ÿ≥Ÿàÿßÿ± ÿ¥ÿØŸÜ", example: "Bitte einsteigen!", exampleTranslation: "ŸÑÿ∑ŸÅÿßŸã ÿ≥Ÿàÿßÿ± ÿ¥Ÿà€åÿØ!" },
                { word: "umsteigen", article: "", plural: "", translation: "ÿπŸàÿ∂ ⁄©ÿ±ÿØŸÜ (Ÿàÿ≥€åŸÑŸá)", example: "Du musst in Hauptbahnhof umsteigen.", exampleTranslation: "ÿ®ÿß€åÿØ ÿØÿ± ÿß€åÿ≥ÿ™⁄ØÿßŸá ŸÖÿ±⁄©ÿ≤€å ÿπŸàÿ∂ ⁄©ŸÜ€å." },
                { word: "Bus", article: "der", plural: "die Busse", translation: "ÿßÿ™Ÿàÿ®Ÿàÿ≥", example: "Der Bus kommt um 8 Uhr.", exampleTranslation: "ÿßÿ™Ÿàÿ®Ÿàÿ≥ ÿ≥ÿßÿπÿ™ €∏ ŸÖ€å‚Äåÿ¢€åÿØ." },
                { word: "Zug", article: "der", plural: "die Z√ºge", translation: "ŸÇÿ∑ÿßÿ±", example: "Der Zug f√§hrt nach Berlin.", exampleTranslation: "ŸÇÿ∑ÿßÿ± ÿ®Ÿá ÿ®ÿ±ŸÑ€åŸÜ ŸÖ€å‚Äåÿ±ŸàÿØ." },
                { word: "U-Bahn", article: "die", plural: "die U-Bahnen", translation: "ŸÖÿ™ÿ±Ÿà", example: "Ich fahre mit der U-Bahn.", exampleTranslation: "ŸÖŸÜ ÿ®ÿß ŸÖÿ™ÿ±Ÿà ŸÖ€å‚Äåÿ±ŸàŸÖ." },
                { word: "Haltestelle", article: "die", plural: "die Haltestellen", translation: "ÿß€åÿ≥ÿ™⁄ØÿßŸá", example: "Die Haltestelle ist dort.", exampleTranslation: "ÿß€åÿ≥ÿ™⁄ØÿßŸá ÿ¢ŸÜÿ¨ÿßÿ≥ÿ™." },
                { word: "fahren", article: "", plural: "", translation: "ÿ±ÿßŸÜŸÜÿØ⁄Ø€å ⁄©ÿ±ÿØŸÜ / ÿ±ŸÅÿ™ŸÜ", example: "Ich fahre mit dem Bus.", exampleTranslation: "ŸÖŸÜ ÿ®ÿß ÿßÿ™Ÿàÿ®Ÿàÿ≥ ŸÖ€å‚Äåÿ±ŸàŸÖ." }
            ], exercises: [
                { type: "multiple", question: "Ich _____ jetzt _____. (aussteigen)", options: ["steige...aus", "steige...ein", "steigt...aus", "steigen...aus"], correct: 0 },
                { type: "fill", question: "Er _____ in Berlin _____. (umsteigen)", answer: "steigt...um" },
                { type: "multiple", question: "U-Bahn €åÿπŸÜ€å:", options: ["ÿßÿ™Ÿàÿ®Ÿàÿ≥", "ŸÇÿ∑ÿßÿ±", "ŸÖÿ™ÿ±Ÿà", "ÿ™ÿß⁄©ÿ≥€å"], correct: 2 }
            ]},

            { id: 11, title: "Was hast du heute gemacht?", subtitle: "ÿßŸÖÿ±Ÿàÿ≤ ⁄Ü€å⁄©ÿßÿ± ⁄©ÿ±ÿØ€åÿü", explanation: { title: "ÿ≤ŸÖÿßŸÜ ⁄Øÿ∞ÿ¥ÿ™Ÿá Perfekt", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿµÿ≠ÿ®ÿ™ ÿØÿ±ÿ®ÿßÿ±Ÿá ⁄Øÿ∞ÿ¥ÿ™Ÿá ÿ®ÿß ÿ≤ŸÖÿßŸÜ Perfekt." }] }, grammar: { title: "ÿ≤ŸÖÿßŸÜ Perfekt", blocks: [{ heading: "ÿ≥ÿßÿÆÿ™ÿßÿ± Perfekt", text: "Perfekt = haben/sein + Partizip II. ÿ®€åÿ¥ÿ™ÿ± ŸÅÿπŸÑ‚ÄåŸáÿß ÿ®ÿß haben ÿ≥ÿßÿÆÿ™Ÿá ŸÖ€å‚Äåÿ¥ŸàŸÜÿØ.", examples: [{ de: "Ich habe Deutsch gelernt.", fa: "ŸÖŸÜ ÿ¢ŸÑŸÖÿßŸÜ€å €åÿßÿØ ⁄Øÿ±ŸÅÿ™ŸÖ." }, { de: "Er hat gearbeitet.", fa: "ÿßŸà ⁄©ÿßÿ± ⁄©ÿ±ÿØ." }, { de: "Wir sind nach Berlin gefahren.", fa: "ŸÖÿß ÿ®Ÿá ÿ®ÿ±ŸÑ€åŸÜ ÿ±ŸÅÿ™€åŸÖ." }] }, { heading: "ÿ≥ÿßÿÆÿ™ Partizip II (ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®ÿßŸÇÿßÿπÿØŸá)", text: "ge + ÿ±€åÿ¥Ÿá ŸÅÿπŸÑ + t = Partizip II. ŸÖÿ´ŸÑÿßŸã: lernen ‚Üí gelernt, machen ‚Üí gemacht, arbeiten ‚Üí gearbeitet" }] }, vocabulary: [
                { word: "gemacht", article: "", plural: "", translation: "ÿßŸÜÿ¨ÿßŸÖ ÿØÿßÿØŸá (Partizip II)", example: "Was hast du gemacht?", exampleTranslation: "⁄Ü€å⁄©ÿßÿ± ⁄©ÿ±ÿØ€åÿü" },
                { word: "gelernt", article: "", plural: "", translation: "€åÿßÿØ ⁄Øÿ±ŸÅÿ™Ÿá", example: "Ich habe Deutsch gelernt.", exampleTranslation: "ÿ¢ŸÑŸÖÿßŸÜ€å €åÿßÿØ ⁄Øÿ±ŸÅÿ™ŸÖ." },
                { word: "gearbeitet", article: "", plural: "", translation: "⁄©ÿßÿ± ⁄©ÿ±ÿØŸá", example: "Er hat viel gearbeitet.", exampleTranslation: "ÿßŸà ÿ≤€åÿßÿØ ⁄©ÿßÿ± ⁄©ÿ±ÿØŸá." },
                { word: "gekocht", article: "", plural: "", translation: "ÿ¢ÿ¥Ÿæÿ≤€å ⁄©ÿ±ÿØŸá", example: "Sie hat Abendessen gekocht.", exampleTranslation: "ÿßŸà ÿ¥ÿßŸÖ ŸæÿÆÿ™Ÿá." },
                { word: "gefahren", article: "", plural: "", translation: "ÿ±ŸÅÿ™Ÿá / ÿ±ÿßŸÜŸÜÿØ⁄Ø€å ⁄©ÿ±ÿØŸá", example: "Wir sind nach M√ºnchen gefahren.", exampleTranslation: "ŸÖÿß ÿ®Ÿá ŸÖŸàŸÜ€åÿÆ ÿ±ŸÅÿ™€åŸÖ." },
                { word: "gestern", article: "", plural: "", translation: "ÿØ€åÿ±Ÿàÿ≤", example: "Gestern war ich m√ºde.", exampleTranslation: "ÿØ€åÿ±Ÿàÿ≤ ÿÆÿ≥ÿ™Ÿá ÿ®ŸàÿØŸÖ." },
                { word: "letzte Woche", article: "", plural: "", translation: "ŸáŸÅÿ™Ÿá ⁄Øÿ∞ÿ¥ÿ™Ÿá", example: "Letzte Woche habe ich viel gelernt.", exampleTranslation: "ŸáŸÅÿ™Ÿá ⁄Øÿ∞ÿ¥ÿ™Ÿá ÿ≤€åÿßÿØ ÿØÿ±ÿ≥ ÿÆŸàÿßŸÜÿØŸÖ." }
            ], exercises: [
                { type: "multiple", question: "Ich _____ Deutsch _____.", options: ["habe...gelernt", "bin...gelernt", "habe...lernen", "hat...gelernt"], correct: 0 },
                { type: "fill", question: "Sie _____ gestern _____. (kochen)", answer: "hat...gekocht" },
                { type: "multiple", question: "Wir _____ nach Berlin _____.", options: ["haben...gefahren", "sind...gefahren", "haben...gefahrt", "sind...gefahrt"], correct: 1 }
            ]},

            { id: 12, title: "Was ist passiert?", subtitle: "⁄ÜŸá ÿßÿ™ŸÅÿßŸÇ€å ÿßŸÅÿ™ÿßÿØŸáÿü", explanation: { title: "Perfekt ÿ®ÿß ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®€å‚ÄåŸÇÿßÿπÿØŸá", blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ÿ™⁄©ŸÖ€åŸÑ ÿ≤ŸÖÿßŸÜ Perfekt ÿ®ÿß ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®€å‚ÄåŸÇÿßÿπÿØŸá Ÿà ⁄©ÿßÿ±ÿ®ÿ±ÿØŸáÿß€å ÿ®€åÿ¥ÿ™ÿ±." }] }, grammar: { title: "Partizip II ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®€å‚ÄåŸÇÿßÿπÿØŸá", blocks: [{ heading: "ŸÅÿπŸÑ‚ÄåŸáÿß€å ÿ®€å‚ÄåŸÇÿßÿπÿØŸá ŸÖŸáŸÖ", table: { headers: ["Infinitiv", "Partizip II", "ŸÅÿßÿ±ÿ≥€å"], rows: [["essen", "gegessen", "ÿÆŸàÿ±ÿØŸÜ"], ["trinken", "getrunken", "ŸÜŸàÿ¥€åÿØŸÜ"], ["schreiben", "geschrieben", "ŸÜŸàÿ¥ÿ™ŸÜ"], ["lesen", "gelesen", "ÿÆŸàÿßŸÜÿØŸÜ"], ["sprechen", "gesprochen", "ÿµÿ≠ÿ®ÿ™ ⁄©ÿ±ÿØŸÜ"], ["sehen", "gesehen", "ÿØ€åÿØŸÜ"], ["nehmen", "genommen", "⁄Øÿ±ŸÅÿ™ŸÜ"], ["geben", "gegeben", "ÿØÿßÿØŸÜ"], ["kommen", "gekommen", "ÿ¢ŸÖÿØŸÜ"], ["gehen", "gegangen", "ÿ±ŸÅÿ™ŸÜ"]] } }] }, vocabulary: [
                { word: "passieren", article: "", plural: "", translation: "ÿßÿ™ŸÅÿßŸÇ ÿßŸÅÿ™ÿßÿØŸÜ", example: "Was ist passiert?", exampleTranslation: "⁄ÜŸá ÿßÿ™ŸÅÿßŸÇ€å ÿßŸÅÿ™ÿßÿØŸáÿü" },
                { word: "gegessen", article: "", plural: "", translation: "ÿÆŸàÿ±ÿØŸá (P.II)", example: "Ich habe Pizza gegessen.", exampleTranslation: "ŸÖŸÜ Ÿæ€åÿ™ÿ≤ÿß ÿÆŸàÿ±ÿØŸÖ." },
                { word: "getrunken", article: "", plural: "", translation: "ŸÜŸàÿ¥€åÿØŸá (P.II)", example: "Er hat Kaffee getrunken.", exampleTranslation: "ÿßŸà ŸÇŸáŸàŸá ŸÜŸàÿ¥€åÿØ." },
                { word: "geschrieben", article: "", plural: "", translation: "ŸÜŸàÿ¥ÿ™Ÿá (P.II)", example: "Sie hat einen Brief geschrieben.", exampleTranslation: "ÿßŸà €å⁄© ŸÜÿßŸÖŸá ŸÜŸàÿ¥ÿ™." },
                { word: "gelesen", article: "", plural: "", translation: "ÿÆŸàÿßŸÜÿØŸá (P.II)", example: "Ich habe ein Buch gelesen.", exampleTranslation: "ŸÖŸÜ €å⁄© ⁄©ÿ™ÿßÿ® ÿÆŸàÿßŸÜÿØŸÖ." },
                { word: "gesprochen", article: "", plural: "", translation: "ÿµÿ≠ÿ®ÿ™ ⁄©ÿ±ÿØŸá (P.II)", example: "Wir haben Deutsch gesprochen.", exampleTranslation: "ŸÖÿß ÿ¢ŸÑŸÖÿßŸÜ€å ÿµÿ≠ÿ®ÿ™ ⁄©ÿ±ÿØ€åŸÖ." },
                { word: "gesehen", article: "", plural: "", translation: "ÿØ€åÿØŸá (P.II)", example: "Hast du den Film gesehen?", exampleTranslation: "ŸÅ€åŸÑŸÖ ÿ±Ÿà ÿØ€åÿØ€åÿü" },
                { word: "gegangen", article: "", plural: "", translation: "ÿ±ŸÅÿ™Ÿá (P.II)", example: "Ich bin ins Kino gegangen.", exampleTranslation: "ŸÖŸÜ ÿ®Ÿá ÿ≥€åŸÜŸÖÿß ÿ±ŸÅÿ™ŸÖ." }
            ], exercises: [
                { type: "multiple", question: "Ich habe Pizza _____.", options: ["geesst", "gegessen", "geessen", "essent"], correct: 1 },
                { type: "multiple", question: "Er _____ ins Kino _____.", options: ["hat...gegangen", "ist...gegangen", "hat...gegangt", "ist...gegeht"], correct: 1 },
                { type: "fill", question: "Sie hat ein Buch _____. (lesen)", answer: "gelesen" }
            ]}
        ]
    },

    // ============================
    // A1.2 - Lesson stubs (12 lessons)
    // ============================
    "a1-2": {
        name: "A1.2", fullName: "Menschen A1.2", color: "#64d2ff", icon: "üåø", description: "ŸÖÿ®ÿ™ÿØ€å - ÿ®ÿÆÿ¥ ÿØŸàŸÖ",
        lessons: Array.from({length: 12}, (_, i) => ({
            id: i+1,
            title: `Lektion ${i+13}`,
            subtitle: `ÿØÿ±ÿ≥ ${i+13} - A1.2`,
            explanation: { title: `ÿØÿ±ÿ≥ ${i+13}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß€å ÿß€åŸÜ ÿØÿ±ÿ≥ ÿ®Ÿá ÿ≤ŸàÿØ€å ÿßÿ∂ÿßŸÅŸá ŸÖ€å‚Äåÿ¥ŸàÿØ." }] },
            grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ± ÿØÿ±ÿ≥", text: "ŸÖÿ≠ÿ™Ÿàÿß€å ⁄Øÿ±ÿßŸÖÿ± ÿ®Ÿá ÿ≤ŸàÿØ€å ÿßÿ∂ÿßŸÅŸá ŸÖ€å‚Äåÿ¥ŸàÿØ." }] },
            vocabulary: [
                { word: "Beispiel", article: "das", plural: "die Beispiele", translation: "ŸÖÿ´ÿßŸÑ", example: "Das ist ein Beispiel.", exampleTranslation: "ÿß€åŸÜ €å⁄© ŸÖÿ´ÿßŸÑ ÿßÿ≥ÿ™." }
            ],
            exercises: [{ type: "multiple", question: "ÿ™ŸÖÿ±€åŸÜ ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }]
        }))
    },

    // Other levels follow same pattern
    "a2-1": { name: "A2.1", fullName: "Menschen A2.1", color: "#0a84ff", icon: "üå≥", description: "Ÿæÿß€åŸá - ÿ®ÿÆÿ¥ ÿßŸàŸÑ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - A2.1`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Wort", article: "das", plural: "die W√∂rter", translation: "⁄©ŸÑŸÖŸá", example: "Das ist ein Wort.", exampleTranslation: "ÿß€åŸÜ €å⁄© ⁄©ŸÑŸÖŸá ÿßÿ≥ÿ™." }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) },
    "a2-2": { name: "A2.2", fullName: "Menschen A2.2", color: "#bf5af2", icon: "üå≤", description: "Ÿæÿß€åŸá - ÿ®ÿÆÿ¥ ÿØŸàŸÖ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - A2.2`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Satz", article: "der", plural: "die S√§tze", translation: "ÿ¨ŸÖŸÑŸá", example: "Das ist ein Satz.", exampleTranslation: "ÿß€åŸÜ €å⁄© ÿ¨ŸÖŸÑŸá ÿßÿ≥ÿ™." }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) },
    "b1-1": { name: "B1.1", fullName: "Menschen B1.1", color: "#ff9f0a", icon: "üèîÔ∏è", description: "ŸÖÿ™Ÿàÿ≥ÿ∑ - ÿ®ÿÆÿ¥ ÿßŸàŸÑ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - B1.1`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Text", article: "der", plural: "die Texte", translation: "ŸÖÿ™ŸÜ", example: "Lesen Sie den Text.", exampleTranslation: "ŸÖÿ™ŸÜ ÿ±ÿß ÿ®ÿÆŸàÿßŸÜ€åÿØ." }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) },
    "b1-2": { name: "B1.2", fullName: "Menschen B1.2", color: "#ff375f", icon: "‚õ∞Ô∏è", description: "ŸÖÿ™Ÿàÿ≥ÿ∑ - ÿ®ÿÆÿ¥ ÿØŸàŸÖ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - B1.2`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Aufgabe", article: "die", plural: "die Aufgaben", translation: "ÿ™⁄©ŸÑ€åŸÅ", example: "Machen Sie die Aufgabe.", exampleTranslation: "ÿ™⁄©ŸÑ€åŸÅ ÿ±ÿß ÿßŸÜÿ¨ÿßŸÖ ÿØŸá€åÿØ." }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) },
    "b2-1": { name: "B2.1", fullName: "Menschen B2.1", color: "#ff453a", icon: "üèÜ", description: "Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá - ÿ®ÿÆÿ¥ ÿßŸàŸÑ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - B2.1`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Thema", article: "das", plural: "die Themen", translation: "ŸÖŸàÿ∂Ÿàÿπ", example: "Was ist das Thema?", exampleTranslation: "ŸÖŸàÿ∂Ÿàÿπ ⁄Ü€åÿ≥ÿ™ÿü" }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) },
    "b2-2": { name: "B2.2", fullName: "Menschen B2.2", color: "#ffd60a", icon: "üëë", description: "Ÿæ€åÿ¥ÿ±ŸÅÿ™Ÿá - ÿ®ÿÆÿ¥ ÿØŸàŸÖ", lessons: Array.from({length: 12}, (_, i) => ({ id: i+1, title: `Lektion ${i+1}`, subtitle: `ÿØÿ±ÿ≥ ${i+1} - B2.2`, explanation: { title: `ÿØÿ±ÿ≥ ${i+1}`, blocks: [{ heading: "ŸÖŸàÿ∂Ÿàÿπ", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, grammar: { title: "⁄Øÿ±ÿßŸÖÿ±", blocks: [{ heading: "⁄Øÿ±ÿßŸÖÿ±", text: "ŸÖÿ≠ÿ™Ÿàÿß ÿ®Ÿá ÿ≤ŸàÿØ€å..." }] }, vocabulary: [{ word: "Ergebnis", article: "das", plural: "die Ergebnisse", translation: "ŸÜÿ™€åÿ¨Ÿá", example: "Das Ergebnis ist gut.", exampleTranslation: "ŸÜÿ™€åÿ¨Ÿá ÿÆŸàÿ® ÿßÿ≥ÿ™." }], exercises: [{ type: "multiple", question: "ŸÜŸÖŸàŸÜŸá", options: ["ÿßŸÑŸÅ", "ÿ®", "ÿ¨", "ÿØ"], correct: 0 }] })) }
    };

    // ============================================
    // APP STATE
    // ============================================
    let appState = {
        currentPage: 'home',
        currentLevel: null,
        currentLesson: null,
        currentSection: null,
        history: [],
        user: null,
        settings: {
            darkMode: true,
            sound: true,
            autoPlay: false,
            speechRate: 1,
            fontSize: 'medium',
            notifications: true,
            language: 'fa'
        },
        progress: {},
        xp: 0,
        streak: 0,
        lessonsCompleted: 0,
        correctAnswers: 0,
        wordsLearned: 0
    };

    // Load saved state
    function loadState() {
        try {
            const saved = localStorage.getItem('germanAppState');
            if (saved) {
                const parsed = JSON.parse(saved);
                appState = { ...appState, ...parsed };
                applySettings();
            }
        } catch(e) { console.log('No saved state'); }
    }

    function saveState() {
        try {
            localStorage.setItem('germanAppState', JSON.stringify({
                settings: appState.settings,
                progress: appState.progress,
                xp: appState.xp,
                streak: appState.streak,
                lessonsCompleted: appState.lessonsCompleted,
                correctAnswers: appState.correctAnswers,
                wordsLearned: appState.wordsLearned,
                user: appState.user
            }));
        } catch(e) {}
    }

    function applySettings() {
        document.body.setAttribute('data-theme', appState.settings.darkMode ? 'dark' : 'light');
        document.getElementById('darkModeToggle').classList.toggle('active', appState.settings.darkMode);
        document.getElementById('soundToggle').classList.toggle('active', appState.settings.sound);
        document.getElementById('autoPlayToggle').classList.toggle('active', appState.settings.autoPlay);
        
        const sizes = { small: '14px', medium: '16px', large: '18px' };
        document.documentElement.style.fontSize = sizes[appState.settings.fontSize] || '16px';
    }

    // ============================================
    // NAVIGATION
    // ============================================
    function navigateTo(page) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        
        const pageEl = document.getElementById(`page-${page}`);
        if (pageEl) pageEl.classList.add('active');
        
        const navItem = document.querySelector(`.nav-item[data-page="${page}"]`);
        if (navItem) navItem.classList.add('active');
        
        appState.currentPage = page;
        
        // Update header
        const backBtn = document.getElementById('headerBack');
        const headerTitle = document.getElementById('headerTitle');
        
        if (page === 'home') {
            backBtn.style.display = 'none';
            headerTitle.textContent = 'German App';
        } else if (page === 'scores') {
            backBtn.style.display = 'none';
            headerTitle.textContent = 'ÿßŸÖÿ™€åÿßÿ≤ÿßÿ™';
        } else if (page === 'online') {
            backBtn.style.display = 'none';
            headerTitle.textContent = 'ÿ¢ŸÜŸÑÿß€åŸÜ';
        } else if (page === 'settings') {
            backBtn.style.display = 'none';
            headerTitle.textContent = 'ÿ™ŸÜÿ∏€åŸÖÿßÿ™';
        }

        updateStats();
    }

    function goBack() {
        if (appState.currentSection) {
            showLessonDetail(appState.currentLevel, appState.currentLesson);
            appState.currentSection = null;
        } else if (appState.currentLesson !== null) {
            showLessons(appState.currentLevel);
            appState.currentLesson = null;
        } else if (appState.currentLevel) {
            navigateTo('home');
            appState.currentLevel = null;
        } else {
            navigateTo('home');
        }
    }

    // ============================================
    // HOME PAGE - LEVEL GRID
    // ============================================
    function renderLevelGrid() {
        const grid = document.getElementById('levelGrid');
        grid.innerHTML = '';
        
        Object.entries(BOOK_DATA).forEach(([key, level]) => {
            const progress = calculateLevelProgress(key);
            const card = document.createElement('div');
            card.className = 'level-card glass-card';
            card.setAttribute('data-level', key);
            card.onclick = () => showLessons(key);
            card.innerHTML = `
                <div class="level-badge">${level.icon}</div>
                <div class="level-name">${level.name}</div>
                <div class="level-desc">${level.description}</div>
                <div class="level-progress">
                    <div class="level-progress-fill" style="width:${progress}%"></div>
                </div>
            `;
            grid.appendChild(card);
        });
    }

    function calculateLevelProgress(levelKey) {
        const progress = appState.progress[levelKey] || {};
        const total = BOOK_DATA[levelKey].lessons.length * 4;
        const completed = Object.values(progress).reduce((sum, l) => {
            return sum + (l.explanation ? 1 : 0) + (l.grammar ? 1 : 0) + (l.vocabulary ? 1 : 0) + (l.exercises ? 1 : 0);
        }, 0);
        return total > 0 ? Math.round((completed / total) * 100) : 0;
    }

    // ============================================
    // LESSONS LIST
    // ============================================
    function showLessons(levelKey) {
        appState.currentLevel = levelKey;
        const level = BOOK_DATA[levelKey];
        
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page-lessons').classList.add('active');
        
        document.getElementById('headerBack').style.display = 'flex';
        document.getElementById('headerTitle').textContent = level.fullName;
        
        const progress = calculateLevelProgress(levelKey);
        document.getElementById('lessonsPageTitle').innerHTML = `${level.icon} ${level.fullName}`;
        document.getElementById('levelProgressBar').style.width = `${progress}%`;
        document.getElementById('levelProgressText').textContent = `${progress}% ÿ™⁄©ŸÖ€åŸÑ ÿ¥ÿØŸá`;
        
        const list = document.getElementById('lessonsList');
        list.innerHTML = '';
        
        level.lessons.forEach((lesson, idx) => {
            const lessonProgress = appState.progress[levelKey]?.[lesson.id] || {};
            const completedSections = (lessonProgress.explanation ? 1 : 0) + (lessonProgress.grammar ? 1 : 0) + (lessonProgress.vocabulary ? 1 : 0) + (lessonProgress.exercises ? 1 : 0);
            const colors = ['#30d158', '#0a84ff', '#bf5af2', '#ff9f0a', '#ff375f', '#64d2ff', '#ff453a', '#ffd60a', '#30d158', '#0a84ff', '#bf5af2', '#ff9f0a'];
            
            const item = document.createElement('div');
            item.className = 'lesson-item glass-card';
            item.onclick = () => showLessonDetail(levelKey, lesson.id);
            item.innerHTML = `
                <div class="lesson-number" style="background:${colors[idx % colors.length]}; color:#fff">${lesson.id}</div>
                <div class="lesson-info">
                    <div class="lesson-title">${lesson.title}</div>
                    <div class="lesson-subtitle">${lesson.subtitle} ‚Ä¢ ${completedSections}/4</div>
                </div>
                <div class="lesson-status">${completedSections === 4 ? '‚úÖ' : completedSections > 0 ? 'üîÑ' : 'üìò'}</div>
            `;
            list.appendChild(item);
        });
    }

    // ============================================
    // LESSON DETAIL
    // ============================================
    function showLessonDetail(levelKey, lessonId) {
        appState.currentLevel = levelKey;
        appState.currentLesson = lessonId;
        appState.currentSection = null;
        
        const level = BOOK_DATA[levelKey];
        const lesson = level.lessons.find(l => l.id === lessonId);
        
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page-lesson-detail').classList.add('active');
        
        document.getElementById('headerBack').style.display = 'flex';
        document.getElementById('headerTitle').textContent = `${level.name} - Lektion ${lessonId}`;
        
        document.getElementById('lessonDetailTitle').textContent = lesson.title;
        document.getElementById('lessonDetailDesc').textContent = lesson.subtitle;
    }

    // ============================================
    // SHOW SECTION CONTENT
    // ============================================
    function showSection(sectionType) {
        appState.currentSection = sectionType;
        
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById('page-section').classList.add('active');
        
        // Update tabs
        document.querySelectorAll('.section-tab').forEach(t => t.classList.remove('active'));
        
        const tabMap = { explanation: 0, grammar: 1, vocabulary: 2, exercises: 3 };
        document.querySelectorAll('.section-tab')[tabMap[sectionType]]?.classList.add('active');
        
        renderSectionContent(sectionType);
        
        // Mark as visited
        if (!appState.progress[appState.currentLevel]) appState.progress[appState.currentLevel] = {};
        if (!appState.progress[appState.currentLevel][appState.currentLesson]) appState.progress[appState.currentLevel][appState.currentLesson] = {};
        appState.progress[appState.currentLevel][appState.currentLesson][sectionType] = true;
        
        if (sectionType === 'vocabulary') {
            const lesson = BOOK_DATA[appState.currentLevel].lessons.find(l => l.id === appState.currentLesson);
            appState.wordsLearned = Math.max(appState.wordsLearned, (lesson?.vocabulary?.length || 0));
        }
        
        saveState();
    }

    function switchSectionTab(sectionType) {
        appState.currentSection = sectionType;
        document.querySelectorAll('.section-tab').forEach(t => t.classList.remove('active'));
        const tabMap = { explanation: 0, grammar: 1, vocabulary: 2, exercises: 3 };
        document.querySelectorAll('.section-tab')[tabMap[sectionType]]?.classList.add('active');
        renderSectionContent(sectionType);
    }

    function renderSectionContent(sectionType) {
        const level = BOOK_DATA[appState.currentLevel];
        const lesson = level.lessons.find(l => l.id === appState.currentLesson);
        const container = document.getElementById('sectionContent');
        
        if (sectionType === 'explanation') {
            container.innerHTML = renderExplanation(lesson.explanation);
        } else if (sectionType === 'grammar') {
            container.innerHTML = renderGrammar(lesson.grammar);
        } else if (sectionType === 'vocabulary') {
            container.innerHTML = renderVocabulary(lesson.vocabulary);
        } else if (sectionType === 'exercises') {
            container.innerHTML = renderExercises(lesson.exercises);
        }
    }

    // ============================================
    // RENDER EXPLANATION
    // ============================================
    function renderExplanation(data) {
        let html = `<h2 class="section-title" style="margin-bottom:20px">üìñ ${data.title}</h2>`;
        
        data.blocks.forEach(block => {
            html += `<div class="explanation-block glass-card">`;
            html += `<h3>${block.heading}</h3>`;
            
            if (block.text) {
                html += `<p>${block.text}</p>`;
            }
            
            if (block.dialog) {
                html += `<div class="dialog-box">`;
                block.dialog.forEach(line => {
                    html += `<div class="dialog-line">
                        <span class="dialog-speaker">${line.speaker}:</span>
                        <span>${line.text}</span>
                    </div>`;
                });
                html += `</div>`;
            }
            
            html += `</div>`;
        });
        
        return html;
    }

    // ============================================
    // RENDER GRAMMAR
    // ============================================
    function renderGrammar(data) {
        let html = `<h2 class="section-title" style="margin-bottom:20px">üìù ${data.title}</h2>`;
        
        data.blocks.forEach(block => {
            html += `<div class="grammar-block glass-card">`;
            html += `<h3>${block.heading}</h3>`;
            
            if (block.text) {
                html += `<p>${block.text}</p>`;
            }
            
            if (block.table) {
                html += `<table class="grammar-table">
                    <thead><tr>${block.table.headers.map(h => `<th>${h}</th>`).join('')}</tr></thead>
                    <tbody>${block.table.rows.map(row => `<tr>${row.map(cell => `<td>${cell}</td>`).join('')}</tr>`).join('')}</tbody>
                </table>`;
            }
            
            if (block.examples) {
                block.examples.forEach(ex => {
                    html += `<div class="grammar-example">
                        <div class="de">${ex.de}</div>
                        <div class="fa">${ex.fa}</div>
                    </div>`;
                });
            }
            
            if (block.note) {
                html += `<div class="grammar-note">${block.note}</div>`;
            }
            
            html += `</div>`;
        });
        
        return html;
    }

    // ============================================
    // RENDER VOCABULARY (with speech)
    // ============================================
    function renderVocabulary(words) {
        let html = `<h2 class="section-title" style="margin-bottom:20px">üó£Ô∏è Ÿàÿß⁄òŸá‚ÄåŸáÿß (${words.length} ⁄©ŸÑŸÖŸá)</h2>`;
        html += `<div class="vocab-list">`;
        
        words.forEach((word, idx) => {
            html += `
            <div class="vocab-card glass-card">
                <div class="vocab-header">
                    <div>
                        <span class="vocab-article">${word.article ? word.article + ' ' : ''}</span>
                        <span class="vocab-word">${word.word}</span>
                        ${word.plural ? `<span class="vocab-plural"> | ${word.plural}</span>` : ''}
                    </div>
                    <button class="vocab-speak-btn" onclick="speakWord('${word.article ? word.article + ' ' : ''}${word.word}', this)" title="ÿ™ŸÑŸÅÿ∏">
                        üîä
                    </button>
                </div>
                <div class="vocab-translation">${word.translation}</div>
                <div class="vocab-example">
                    <div class="example-de">${word.example}</div>
                    <div class="example-fa">${word.exampleTranslation}</div>
                </div>
            </div>`;
        });
        
        html += `</div>`;
        return html;
    }

    // ============================================
    // TEXT TO SPEECH
    // ============================================
    function speakWord(text, btn) {
        if (!appState.settings.sound) return;
        
        if ('speechSynthesis' in window) {
            window.speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'de-DE';
            utterance.rate = appState.settings.speechRate;
            utterance.pitch = 1;
            
            // Try to find a German voice
            const voices = window.speechSynthesis.getVoices();
            const germanVoice = voices.find(v => v.lang.startsWith('de'));
            if (germanVoice) utterance.voice = germanVoice;
            
            if (btn) {
                btn.classList.add('playing');
                utterance.onend = () => btn.classList.remove('playing');
                utterance.onerror = () => btn.classList.remove('playing');
            }
            
            window.speechSynthesis.speak(utterance);
        } else {
            showToast('ŸÖÿ±Ÿàÿ±⁄Øÿ± ÿ¥ŸÖÿß ÿßÿ≤ ÿ™ŸÑŸÅÿ∏ ÿµŸàÿ™€å Ÿæÿ¥ÿ™€åÿ®ÿßŸÜ€å ŸÜŸÖ€å‚Äå⁄©ŸÜÿØ');
        }
    }

    // Ensure voices are loaded
    if ('speechSynthesis' in window) {
        window.speechSynthesis.onvoiceschanged = () => window.speechSynthesis.getVoices();
    }

    // ============================================
    // RENDER EXERCISES
    // ============================================
    function renderExercises(exercises) {
        let html = `<h2 class="section-title" style="margin-bottom:20px">‚úèÔ∏è ÿ™ŸÖÿ±€åŸÜ‚ÄåŸáÿß (${exercises.length} ÿ≥ÿ§ÿßŸÑ)</h2>`;
        html += `<div class="exercise-container">`;
        
        exercises.forEach((ex, idx) => {
            html += `<div class="exercise-card glass-card" id="exercise-${idx}">`;
            html += `<div class="exercise-type">${ex.type === 'multiple' ? '⁄ÜŸÜÿØ ⁄Øÿ≤€åŸÜŸá‚Äåÿß€å' : 'ÿ¨ÿß€å ÿÆÿßŸÑ€å'}</div>`;
            html += `<div class="exercise-question">${idx + 1}. ${ex.question}</div>`;
            
            if (ex.type === 'multiple') {
                html += `<div class="exercise-options">`;
                const letters = ['A', 'B', 'C', 'D'];
                ex.options.forEach((opt, optIdx) => {
                    html += `<div class="exercise-option glass-card" onclick="checkMultiple(${idx}, ${optIdx}, ${ex.correct})" id="opt-${idx}-${optIdx}">
                        <span class="option-letter">${letters[optIdx]}</span>
                        <span>${opt}</span>
                    </div>`;
                });
                html += `</div>`;
            } else if (ex.type === 'fill') {
                html += `<div style="margin-bottom:12px">
                    <input type="text" class="glass-input fill-blank-input" id="fill-${idx}" placeholder="Ÿæÿßÿ≥ÿÆ ÿÆŸàÿØ ÿ±ÿß ÿ®ŸÜŸà€åÿ≥€åÿØ..." dir="ltr" autocomplete="off">
                </div>
                <button class="glass-button primary check-btn" onclick="checkFill(${idx}, '${ex.answer}')">ÿ®ÿ±ÿ±ÿ≥€å ‚úì</button>`;
            }
            
            html += `<div class="exercise-feedback" id="feedback-${idx}"></div>`;
            html += `</div>`;
        });
        
        html += `</div>`;
        return html;
    }

    function checkMultiple(exIdx, selectedIdx, correctIdx) {
        const options = document.querySelectorAll(`#exercise-${exIdx} .exercise-option`);
        const feedback = document.getElementById(`feedback-${exIdx}`);
        
        // Reset
        options.forEach(o => { o.classList.remove('correct', 'incorrect', 'selected'); o.style.pointerEvents = 'none'; });
        
        if (selectedIdx === correctIdx) {
            options[selectedIdx].classList.add('correct');
            feedback.className = 'exercise-feedback correct';
            feedback.textContent = '‚úÖ ÿ¢ŸÅÿ±€åŸÜ! Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.';
            appState.xp += 10;
            appState.correctAnswers++;
        } else {
            options[selectedIdx].classList.add('incorrect');
            options[correctIdx].classList.add('correct');
            feedback.className = 'exercise-feedback incorrect';
            feedback.textContent = `‚ùå Ÿæÿßÿ≥ÿÆ ŸÜÿßÿØÿ±ÿ≥ÿ™. Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠: ${options[correctIdx].querySelector('span:last-child').textContent}`;
        }
        
        saveState();
        updateStats();
    }

    function checkFill(exIdx, correctAnswer) {
        const input = document.getElementById(`fill-${exIdx}`);
        const feedback = document.getElementById(`feedback-${exIdx}`);
        const userAnswer = input.value.trim().toLowerCase();
        const correct = correctAnswer.toLowerCase();
        
        if (userAnswer === correct) {
            feedback.className = 'exercise-feedback correct';
            feedback.textContent = '‚úÖ ÿ¢ŸÅÿ±€åŸÜ! Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠ ÿßÿ≥ÿ™.';
            input.style.borderColor = 'var(--accent-green)';
            appState.xp += 15;
            appState.correctAnswers++;
        } else {
            feedback.className = 'exercise-feedback incorrect';
            feedback.textContent = `‚ùå Ÿæÿßÿ≥ÿÆ ŸÜÿßÿØÿ±ÿ≥ÿ™. Ÿæÿßÿ≥ÿÆ ÿµÿ≠€åÿ≠: ${correctAnswer}`;
            input.style.borderColor = 'var(--accent-red)';
        }
        
        saveState();
        updateStats();
    }

    // ============================================
    // UPDATE STATS
    // ============================================
    function updateStats() {
        document.getElementById('totalXP').textContent = appState.xp;
        document.getElementById('streakCount').textContent = appState.streak;
        
        let completed = 0;
        Object.values(appState.progress).forEach(level => {
            Object.values(level).forEach(lesson => {
                if (lesson.explanation && lesson.grammar && lesson.vocabulary && lesson.exercises) completed++;
            });
        });
        appState.lessonsCompleted = completed;
        document.getElementById('lessonsCompleted').textContent = completed;
        
        // Scores page
        document.getElementById('myTotalScore').textContent = appState.xp;
        document.getElementById('correctAnswers').textContent = appState.correctAnswers;
        document.getElementById('wordsLearned').textContent = appState.wordsLearned;
    }

    // ============================================
    // LEADERBOARD
    // ============================================
    function renderLeaderboard() {
        const leaders = [
            { name: 'ÿ¥ŸÖÿß', avatar: 'üë§', level: 'A1.1', score: appState.xp },
            { name: 'Sara M.', avatar: 'üë©', level: 'B1.2', score: 4520 },
            { name: 'Ali R.', avatar: 'üë®', level: 'A2.2', score: 3280 },
            { name: 'Mina K.', avatar: 'üë©‚Äçü¶±', level: 'B2.1', score: 2940 },
            { name: 'Reza T.', avatar: 'üßë', level: 'A1.2', score: 1850 },
            { name: 'Negar P.', avatar: 'üë©‚Äçüî¨', level: 'A2.1', score: 1420 }
        ].sort((a, b) => b.score - a.score);
        
        const container = document.getElementById('leaderboard');
        container.innerHTML = '';
        
        leaders.forEach((leader, idx) => {
            const rankClass = idx < 3 ? `rank-${idx + 1}` : '';
            container.innerHTML += `
            <div class="leaderboard-item glass-card">
                <div class="leaderboard-rank ${rankClass}">${idx + 1}</div>
                <div class="leaderboard-avatar">${leader.avatar}</div>
                <div class="leaderboard-info">
                    <div class="leaderboard-name">${leader.name}</div>
                    <div class="leaderboard-level">${leader.level}</div>
                </div>
                <div class="leaderboard-score">${leader.score} XP</div>
            </div>`;
        });
    }

    // ============================================
    // SETTINGS FUNCTIONS
    // ============================================
    function toggleTheme() {
        appState.settings.darkMode = !appState.settings.darkMode;
        applySettings();
        saveState();
        showToast(appState.settings.darkMode ? 'üåô ÿ≠ÿßŸÑÿ™ ÿ™ÿßÿ±€å⁄© ŸÅÿπÿßŸÑ ÿ¥ÿØ' : '‚òÄÔ∏è ÿ≠ÿßŸÑÿ™ ÿ±Ÿàÿ¥ŸÜ ŸÅÿπÿßŸÑ ÿ¥ÿØ');
    }

    function toggleSound() {
        appState.settings.sound = !appState.settings.sound;
        document.getElementById('soundToggle').classList.toggle('active', appState.settings.sound);
        saveState();
        showToast(appState.settings.sound ? 'üîä ÿµÿØÿß ŸÅÿπÿßŸÑ ÿ¥ÿØ' : 'üîá ÿµÿØÿß ÿ∫€åÿ±ŸÅÿπÿßŸÑ ÿ¥ÿØ');
    }

    function toggleAutoPlay() {
        appState.settings.autoPlay = !appState.settings.autoPlay;
        document.getElementById('autoPlayToggle').classList.toggle('active', appState.settings.autoPlay);
        saveState();
    }

    function toggleNotifications() {
        appState.settings.notifications = !appState.settings.notifications;
        document.getElementById('notifToggle').classList.toggle('active', appState.settings.notifications);
        saveState();
    }

    function changeFontSize() {
        const sizes = ['small', 'medium', 'large'];
        const labels = ['⁄©Ÿà⁄Ü⁄©', 'ŸÖÿ™Ÿàÿ≥ÿ∑', 'ÿ®ÿ≤ÿ±⁄Ø'];
        const current = sizes.indexOf(appState.settings.fontSize);
        const next = (current + 1) % sizes.length;
        appState.settings.fontSize = sizes[next];
        document.getElementById('fontSizeValue').textContent = labels[next] + ' ‚Üê';
        applySettings();
        saveState();
    }

    function changeSpeechRate() {
        const rates = [0.7, 1, 1.3];
        const labels = ['ÿ¢Ÿáÿ≥ÿ™Ÿá', 'ÿπÿßÿØ€å', 'ÿ≥ÿ±€åÿπ'];
        const current = rates.indexOf(appState.settings.speechRate);
        const next = (current + 1) % rates.length;
        appState.settings.speechRate = rates[next];
        document.getElementById('speechRateValue').textContent = labels[next] + ' ‚Üê';
        saveState();
    }

    function changeLanguage() {
        showToast('ŸÅÿπŸÑÿßŸã ŸÅŸÇÿ∑ ÿ™ÿ±ÿ¨ŸÖŸá ŸÅÿßÿ±ÿ≥€å ŸÖŸàÿ¨ŸàÿØ ÿßÿ≥ÿ™');
    }

    function resetProgress() {
        if (confirm('ÿ¢€åÿß ŸÖÿ∑ŸÖÿ¶ŸÜ€åÿØ ⁄©Ÿá ŸÖ€å‚ÄåÿÆŸàÿßŸá€åÿØ ÿ™ŸÖÿßŸÖ Ÿæ€åÿ¥ÿ±ŸÅÿ™ ÿÆŸàÿØ ÿ±ÿß Ÿæÿß⁄© ⁄©ŸÜ€åÿØÿü')) {
            appState.progress = {};
            appState.xp = 0;
            appState.streak = 0;
            appState.lessonsCompleted = 0;
            appState.correctAnswers = 0;
            appState.wordsLearned = 0;
            saveState();
            updateStats();
            renderLevelGrid();
            showToast('üóëÔ∏è Ÿæ€åÿ¥ÿ±ŸÅÿ™ Ÿæÿß⁄© ÿ¥ÿØ');
        }
    }

    // ============================================
    // GOOGLE SIGN IN (Simulated)
    // ============================================
    function signInWithGoogle() {
        // Simulated Google sign-in
        showToast('ÿØÿ± ÿ≠ÿßŸÑ ÿßÿ™ÿµÿßŸÑ ÿ®Ÿá ⁄ØŸà⁄ØŸÑ...');
        
        setTimeout(() => {
            appState.user = {
                name: '⁄©ÿßÿ±ÿ®ÿ± ÿ¢ÿ≤ŸÖÿß€åÿ¥€å',
                email: 'test@gmail.com',
                avatar: 'üë§'
            };
            saveState();
            updateAccountView();
            showToast('‚úÖ Ÿàÿ±ŸàÿØ ŸÖŸàŸÅŸÇ€åÿ™‚Äåÿ¢ŸÖ€åÿ≤ ÿ®ŸàÿØ!');
        }, 1500);
    }

    function signOut() {
        appState.user = null;
        saveState();
        updateAccountView();
        showToast('ÿÆÿßÿ±ÿ¨ ÿ¥ÿØ€åÿØ');
    }

    function updateAccountView() {
        if (appState.user) {
            document.getElementById('loggedOutView').style.display = 'none';
            document.getElementById('loggedInView').style.display = 'block';
            document.getElementById('userName').textContent = appState.user.name;
            document.getElementById('userEmail').textContent = appState.user.email;
        } else {
            document.getElementById('loggedOutView').style.display = 'block';
            document.getElementById('loggedInView').style.display = 'none';
        }
    }

    // ============================================
    // TOAST NOTIFICATIONS
    // ============================================
    function showToast(message) {
        const toast = document.getElementById('toast');
        toast.textContent = message;
        toast.classList.add('show');
        setTimeout(() => toast.classList.remove('show'), 3000);
    }

    function showNotifications() {
        showToast('üîî Ÿá€å⁄Ü ÿßÿπŸÑÿßŸÜ ÿ¨ÿØ€åÿØ€å ŸÜÿØÿßÿ±€åÿØ');
    }

    // ============================================
    // INITIALIZE APP
    // ============================================
    function initApp() {
        loadState();
        renderLevelGrid();
        renderLeaderboard();
        updateStats();
        updateAccountView();
        applySettings();
        
        // Daily streak check
        const today = new Date().toDateString();
        const lastVisit = localStorage.getItem('lastVisit');
        if (lastVisit !== today) {
            if (lastVisit === new Date(Date.now() - 86400000).toDateString()) {
                appState.streak++;
            } else if (lastVisit) {
                appState.streak = 1;
            } else {
                appState.streak = 1;
            }
            localStorage.setItem('lastVisit', today);
            saveState();
            updateStats();
        }
    }

    // Start the app
    initApp();
    </script>
</body>
</html>